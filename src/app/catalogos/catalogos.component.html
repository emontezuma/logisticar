
<div id="todo" class="mat-typography">
    <div class="pantallaError"   *ngIf="pantalla==1">
        <div class="cabeceraMensaje" >{{ errorTitulo }}</div>
        <div class="mensaje" [innerHTML]="errorMensaje"></div>
    </div>
    <div class="catalogos">
        <div class="cabecera" *ngIf="botonera1!=0">
            <div class="cabeceraMensaje" *ngIf="botonera1==9">{{ nCatalogo }}</div>
            <div class="botonera1" *ngIf="botonera1==1">
                <div class="izquierda" *ngIf="!movil">
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[24] }" mat-button (mouseover)="bot[24]=true;" (mouseout)="bot[24]=false;" (click)="nuevo()" *ngIf="miSeleccion>=31 && configuracion.agregar_movil=='S' && miSeleccion!=35">
                        <mat-icon class="iconPB_2" svgIcon="i_movil"></mat-icon>
                        <div class="texto">Agregar móvil</div> 
                    </button>
                    <button class="boton botTomado" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[6] }" mat-button (mouseover)="bot[6]=true;" (mouseout)="bot[6]=false;" (click)="regresar()" [disabled]="!bot1" *ngIf="modelo==5 && !movil">
                        <mat-icon class="iconPB_2" svgIcon="i_regresar"></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }" *ngIf="!movil">Regresar</div> 
                    </button>
                </div>
                <div [ngClass]="{ derecha: !movil, izquierda: movil }">
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[24] }"  mat-button (mouseover)="bot[24]=true;" (mouseout)="bot[24]=false;" (click)="nuevo()" *ngIf="miSeleccion>=31 && configuracion.agregar_movil=='S' && miSeleccion!=35 && movil">
                        <mat-icon class="iconPB_2" svgIcon="i_movil"></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }">Agregar móvil</div> 
                    </button>
                    <button class="boton botTomado" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[6] }" mat-button (mouseover)="bot[6]=true;" (mouseout)="bot[6]=false;" (click)="regresar()" [disabled]="!bot1" *ngIf="movil && modelo==5">
                        <mat-icon class="iconPB_2" svgIcon="i_regresar"></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }" *ngIf="movil">Regresar</div> 
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[0] }"  mat-button (mouseover)="bot[0]=true;" (mouseout)="bot[0]=false;" (click)="nuevo(0)" [disabled]="!boton01" *ngIf="miSeleccion<31">
                        <mat-icon class="iconPB_2" svgIcon="i_agregar"></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }">Agregar</div> 
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[1] }"  mat-button (mouseover)="bot[1]=true;" (mouseout)="bot[1]=false;" (click)="exportar()" [disabled]="!boton02">
                        <mat-icon class="iconPB_2" svgIcon="i_descargar" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }">Descargar</div>
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[2] }"  mat-button (mouseover)="bot[2]=true;" (mouseout)="bot[2]=false;" (click)="actualizar()" [disabled]="!boton03">
                        <mat-icon class="iconPB_2" svgIcon="i_refrescar" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }">Actualizar</div>
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botTomado: filtroAplicado, botHover: bot[4]}"  mat-button (mouseover)="bot[4]=true;" (mouseout)="bot[4]=false;" (click)="filtrando(35)" *ngIf="miSeleccion==35">
                        <mat-icon class="iconPB_2" svgIcon="i_filtro" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }">{{ litFiltrar }}</div>
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[17] }"  mat-button (mouseover)="bot[17]=true;" (mouseout)="bot[17]=false;" (click)="expandir()" *ngIf="vistaResumen!=0 && !movil && modelo!=5 && modelo!=15 && miSeleccion!=32">
                        <mat-icon class="iconPB_2" [svgIcon]="icoExpandir" ></mat-icon>
                        <div class="texto">{{ vistaResumen == 2 ? 'Ver menos' : 'Ver más' }}</div>
                    </button>
                    <div class="seccionDer buscadorCaja" *ngIf="verBuscar && !movil && modelo!=5 && modelo!=15">
                        <mat-form-field class="buscador" floatLabel="never">
                            <input #txtBuscar matInput placeholder="Filtrar..." type="text" [(ngModel)]="textoBuscar" (keydown.enter)="filtrar()" (keydown.escape)="escapar()" >
                            <button mat-button *ngIf="textoBuscar" matSuffix mat-iscon-button aria-label="Clear" (click)="textoBuscar = '';cambiando();">
                                <mat-icon>close</mat-icon>
                            </button>
                        </mat-form-field>
                    </div>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[5] }"  mat-button (mouseover)="bot[5]=true;" (mouseout)="bot[5]=false;" (click)="cambiarVista(1)" [matTooltip] = "ayuda11" matTooltipClass = "toolTip2" matTooltipShowDelay = "100" [disabled]="!boton04" *ngIf="!movil && modelo!=5 && modelo!=15">
                        <mat-icon class="iconPB_2" [svgIcon]="iconoVista" ></mat-icon>
                    </button>
                </div>
            </div>

            <div class="botonera1" *ngIf="botonera1==2">
                <div class="izquierda" *ngIf="!movil">
                    <button class="boton botTomado" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[6] }" mat-button (mouseover)="bot[6]=true;" (mouseout)="bot[6]=false;" (click)="regresar()" [disabled]="!bot1">
                        <mat-icon class="iconPB_2" svgIcon="i_regresar"></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }">Regresar</div> 
                    </button>
                </div>
                <div [ngClass]="{ derecha: !movil, izquierda: movil }">
                    <button class="boton botTomado" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[6] }" mat-button (mouseover)="bot[6]=true;" (mouseout)="bot[6]=false;" (click)="regresar()" [disabled]="!bot1" *ngIf="movil">
                        <mat-icon class="iconPB_2" svgIcon="i_regresar"></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }">Regresar</div> 
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[7] }"  mat-button (mouseover)="bot[7]=true;" (mouseout)="bot[7]=false;" (click)="nuevo(1)" [disabled]="!bot2">
                        <mat-icon class="iconPB_2" svgIcon="i_init"></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }" *ngIf="!movil">Inicializar</div> 
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[8] }"  mat-button (mouseover)="bot[8]=true;" (mouseout)="bot[8]=false;" (click)="guardar()" [disabled]="!bot3">
                        <mat-icon class="iconPB_2" svgIcon="i_guardar" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }" *ngIf="!movil">Guardar</div>
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot4 && bot[9] }"  mat-button (mouseover)="bot[9]=true;" (mouseout)="bot[9]=false;" (click)="cancelar()" [disabled]="!bot4">
                        <mat-icon class="iconPB_2" svgIcon="i_cancelar" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }" *ngIf="!movil">Cancelar</div>
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[10] }"  mat-button (mouseover)="bot[10]=true;" (mouseout)="bot[10]=false;" (click)="copiar()" [disabled]="!bot5" *ngIf="miSeleccion<=31">
                        <mat-icon class="iconPB_2" svgIcon="i_copiar" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }" *ngIf="!movil">Copiar</div>
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[11] }"  mat-button (mouseover)="bot[11]=true;" (mouseout)="bot[11]=false;" (click)="inactivar()" [disabled]="!bot6" *ngIf="miSeleccion!=10 && miSeleccion!=17 && miSeleccion!=18 && miSeleccion!=19 && miSeleccion<=30
                    ">
                        <mat-icon class="iconPB_2" svgIcon="i_inactivar" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }" *ngIf="!movil">Inactivar</div>
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[12] }"  mat-button (mouseover)="bot[12]=true;" (mouseout)="bot[12]=false;" (click)="eliminar()" [disabled]="!bot7">
                        <mat-icon class="iconPB_2" svgIcon="i_eliminar" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }" *ngIf="!movil">Eliminar</div>
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[13] }"  mat-button (mouseover)="bot[13]=true;" (mouseout)="bot[13]=false;" (click)="verMacros()" *ngIf="bot9">
                        <mat-icon class="iconPB_2" svgIcon="i_general" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }" *ngIf="!movil">Ver macros</div>
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[14] }"  mat-button (mouseover)="bot[14]=true;" (mouseout)="bot[14]=false;" (click)="reiniciar()" [disabled]="detalle.inicializada=='S'" *ngIf="miSeleccion==12">
                        <mat-icon class="iconPB_2" svgIcon="i_sesion" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }" *ngIf="!movil">Reiniciar clave</div>
                    </button>
                </div>

            </div>

            <div class="botonera1" *ngIf="botonera1==3">
                <div class="izquierda">
                    <button class="boton botTomado" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[6] }" mat-button (mouseover)="bot[6]=true;" (mouseout)="bot[6]=false;" (click)="regresar()" [disabled]="!bot1">
                        <mat-icon class="iconPB_2" svgIcon="i_regresar"></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }" *ngIf="!movil">Regresar</div> 
                    </button>
                </div>
                <div class="derecha">
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[22] }"  mat-button (mouseover)="bot[22]=true;" (mouseout)="bot[22]=false;" (click)="disponible(detalle.id);" *ngIf="detalle.estado > 0 && miSeleccion!=35 && pagerActual!=0">
                        <mat-icon class="iconPB_2" svgIcon="in_pregunta" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }">{{ !movil ? "Regresar a disponible" : "A disp." }}</div>
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[25] }"  mat-button (mouseover)="bot[25]=true;" (mouseout)="bot[25]=false;" (click)="eliminarT(detalle.id);" *ngIf="pagerActual==0 && miSeleccion!=32 && configuracion.agregar_movil=='S'">
                        <mat-icon class="iconPB_2" svgIcon="i_eliminar" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }">Eliminar temporal</div>
                    </button>

                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[23] }"  mat-button (mouseover)="bot[23]=true;" (mouseout)="bot[23]=false;" (click)="asignar()" *ngIf="!editandoD && detalle.estado > 0">
                        <mat-icon class="iconPB_2" svgIcon="i_chofer" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }">{{ !movil ? "Cambiar asignación" : "Camb asig." }}</div>
                    </button>

                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[26] }"  mat-button (mouseover)="bot[26]=true;" (mouseout)="bot[26]=false;" (click)="inactivarD(1)" *ngIf="editandoD && reqActual">
                        <mat-icon class="iconPB_2" svgIcon="i_inactivar" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }">Inicializar dispositivo</div>
                    </button>
                    
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[8] }"  mat-button (mouseover)="bot[8]=true;" (mouseout)="bot[8]=false;" (click)="guardar()" [disabled]="!bot3">
                        <mat-icon class="iconPB_2" svgIcon="i_guardar" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }" *ngIf="!movil">Guardar</div>
                    </button>
                    <button class="boton" [ngClass]="{regreso: !movil, regreso_2: movil, botHover: bot[9] }"  mat-button (mouseover)="bot[9]=true;" (mouseout)="bot[9]=false;" (click)="cancelar()" [disabled]="!bot4">
                        <mat-icon class="iconPB_2" svgIcon="i_cancelar" ></mat-icon>
                        <div [ngClass]="{texto: !movil, textoPeq: movil }" *ngIf="!movil">Cancelar</div>
                    </button>
                </div>
            </div>
        </div>

        <div class="cabecera_2" @esquema *ngIf="verTabla && modelo!=4 && !movil" >
            <div class="tablaCab_2"  *ngIf="miSeleccion<30 && miSeleccion!=10 && miSeleccion!=11 && miSeleccion!=17">
                <div class="col00">.</div>
                <div class="col01">ID</div>
                <div class="col02" *ngIf="miSeleccion!=2">Descripción</div>
                <div class="col03_i" style="position: relative;" *ngIf="miSeleccion==2" (mouseover)="bot[15]=true;" (mouseout)="bot[15]=false;" [ngClass]="{ etiHover: bot[15] }" (click)="ordenarPor(2, 2)">Placas</div>
                <div class="col03_i" *ngIf="miSeleccion==3">Teléfono</div>
                <div class="col02" style="position: relative;" *ngIf="miSeleccion==2" (mouseover)="bot[16]=true;" (mouseout)="bot[16]=false;" [ngClass]="{ etiHover: bot[16] }" (click)="ordenarPor(2, 7)">Transporte asociado</div>
                <div class="col02" *ngIf="miSeleccion==5">Tabla asociada</div>
                <div class="col02" *ngIf="miSeleccion==9">Horario</div>
                <div class="col03_i">Estatus</div>
                <div class="col04" >Última actualización</div>
                <div class="col04" >Último usuario que actualizó</div>
            </div>
            <div class="tablaCab_2"  *ngIf="miSeleccion==10">
                <div class="col00"></div>
                <div class="col01">ID</div>
                <div class="col02">Literal</div>
                <div class="col02">Traducción</div>
            </div>
            <div class="tablaCab_2"  *ngIf="(miSeleccion>=30 && miSeleccion<35 || miSeleccion==36 || miSeleccion==37) && modelo!=5 && modelo!=15">
                <div class="col00" ></div>
                <div class="col01" >Pager</div>
                <div class="col03_i_t" style="position: relative;" (mouseover)="bot[18]=true;" (mouseout)="bot[18]=false;" [ngClass]="{ etiHover: bot[18] }" (click)="ordenarPor(-1, 3)" >Nombre</div>
                <div class="col03_i" >Estado</div>
                <div class="col05" *ngIf="miSeleccion!=32" style="position: relative;" (mouseover)="bot[19]=true;" (mouseout)="bot[19]=false;" [ngClass]="{ etiHover: bot[19] }" (click)="ordenarPor(-1, 9)">Chofer/Transporte</div>
                <div class="col02" *ngIf="miSeleccion!=32" style="position: relative;" (mouseover)="bot[20]=true;" (mouseout)="bot[20]=false;" [ngClass]="{ etiHover: bot[20] }" (click)="ordenarPor(-1, 5)" >Destino asignado</div>
                <div class="col03_i" *ngIf="miSeleccion!=32" style="position: relative;" (mouseover)="bot[21]=true;" (mouseout)="bot[21]=false;" [ngClass]="{ etiHover: bot[21] }" (click)="ordenarPor(-1, 10)">Placas</div>
                <div class="col001" *ngIf="miSeleccion==34">Turno</div>
                <div class="col03_y" *ngIf="miSeleccion!=32">Tiempo</div>
            </div>

            <div class="tablaCab_2"  *ngIf="miSeleccion == 11">
                <div class="col00"></div>
                <div class="col01">ID</div>
                <div class="col02">Origen</div>
                <div class="col02">Destino</div>
                <div class="col03_i">Tiempo</div>
                <div class="col03_i">Tipo/Estimado</div>
                <div class="col03_i">Estatus</div>
            </div>

            <div class="tablaCab_2"  *ngIf="miSeleccion == 17">
                <div class="col00"></div>
                <div class="col01">ID</div>
                <div class="col02">Lugar de descarga</div>
                <div class="col02">Transporte</div>
                <div class="col02">Tipo de carga</div>
                <div class="col02">Tipo de vehículo</div>
                <div class="col03_y">Tiempo</div>
                <div class="col03_i">Estatus</div>
            </div>


            <div class="tablaCab_2"  *ngIf="miSeleccion==35">
                <div class="col00"></div>
                <div class="col01">Pager</div>
                <div class="col02">Nombre</div>
                <div class="col02">Área asociada</div>
            </div>

            <div class="tablaCab_2"  *ngIf="miSeleccion==10">
                <div class="col00"></div>
                <div class="col01">ID</div>
                <div class="col02">Literal</div>
                <div class="col02">Traducción</div>
            </div>

            <div class="tablaCab_2"  *ngIf="modelo==5">
                <div class="textoMed_40">Placas:<span class="textoMedN_40" [style.marginLeft.px]="5">{{ ' ' + (datostransporte.nombre ? datostransporte.nombre : 'N/A') + ' '}}</span></div>
                <div class="textoMed_40" [style.marginLeft.px]="5">Chofer:<span class="textoMedN_40" [style.marginLeft.px]="5">{{ ' ' + (datostransporte.nchofer ? datostransporte.nchofer : 'N/A') + ' '}}</span></div>
                <div class="textoMed_40" [style.marginLeft.px]="5">Transporte:<span class="textoMedN_40" [style.marginLeft.px]="5">{{ ' ' + (datostransporte.ntransporte ? datostransporte.ntransporte : 'N/A') + ' '}}</span></div>  
                <div class="textoMed_40" [style.marginLeft.px]="5">Tipo de carga:<span class="textoMedN_40" [style.marginLeft.px]="5">{{ ' ' + (datostransporte.ncarga ? datostransporte.ncarga : 'N/A') + ' '}}</span></div>  
            </div>
            
        </div>

    <div class="contenedorScroll" cdkScrollable [style.overflowY]="verBarra">
        <div class="detalle" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==2 && miSeleccion<=50 && miSeleccion!=10 && miSeleccion!=11  && miSeleccion!=17 && !movil && menos200">
            <div class="ayudaCampo" *ngIf="registros.length==0 && verSR">No hay registros</div>
            <button class="tarjeta registro" @esquema *ngFor="let registro of registros; let i = index; trackBy: buscarIndice" mat-button (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{tarAlarmada: (registro.estatus == 'inactivo' || registro.estatus == 'suspendido'), tarHover: arreHover[i] }" (click)="editar(i)">
                    
                    <div class="derecha_esc" *ngIf="miSeleccion<=30"><div class="escalamiento">{{ 'id: ' + registro.id }}</div></div>
                    <div class="doble_titulo" *ngIf="miSeleccion>30">
                        <div class="izquierda_esc"*ngIf="registro.id==0"><mat-icon class="iconPB" svgIcon="i_movil"></mat-icon></div>
                        <div class="textoTar" [ngStyle]="{ 'background-color': registro.color ? registro.color : 'var(--fondo_tarjeta)' }"> {{ registro.narea ? registro.narea : '' }}</div>
                        <div class="derecha_esc_2"*ngIf="registro.id>0 && (miSeleccion!=34 || registro.preasignado!='S')"><div class="escalamiento">{{ 'id: ' + registro.id }}</div></div>
                        <div class="derecha_esc_2"*ngIf="registro.id>0  && miSeleccion==34 && registro.preasignado=='S'"><div class="escalamiento">{{ 'T: ' + registro.orden }}</div></div>
                        
                    </div>
                    <div class="imagen" *ngIf="arreImagenes[i] != 'N' && visualizarImagen && catalogoImagen && miSeleccion<=30"><img class="imaReg" [src]="registro.imagen" loading="lazy" alt=".." (error)="imagenError($event, i)" (loaded)="imagenBien($event, i)"></div>
                    <div class="imagen_2" *ngIf="arreImagenes[i] != 'N' && visualizarImagen && catalogoImagen && miSeleccion>30"><img class="imaReg" [src]="registro.imagen" loading="lazy" alt=".." (error)="imagenError($event, i)" (loaded)="imagenBien($event, i)"></div>
                    

                    <mat-icon *ngIf="(arreImagenes[i] == 'N' || !visualizarImagen || !catalogoImagen) && miSeleccion>30" class="iconGrande_2" [svgIcon]="iconoGeneral"></mat-icon>
                    <mat-icon *ngIf="(arreImagenes[i] == 'N' || !visualizarImagen || !catalogoImagen) && miSeleccion<=30" class="iconGrande" [svgIcon]="iconoGeneral"></mat-icon>
                    <div class="textoMediano">{{ registro.nombre }}</div>
                    <div class="divisorP2" *ngIf="miSeleccion!=35 && miSeleccion!=32"></div>
                    <div class="doble_s" *ngIf="miSeleccion==9">                        
                        <div class="valor">{{ 'Desde: ' + registro.inicia + ' Hasta: ' + registro.termina }}</div>
                        <div class="titulo">Horario</div>
                    </div>
                    
                    <div class="doble_s" *ngIf="miSeleccion==2">                        
                        <div class="valor">{{ registro.nlinea }}</div>
                        <div class="titulo">Transporte asociado</div>
                    </div>
                    <div class="doble_s" *ngIf="miSeleccion==5">                        
                        <div class="valor">{{ registro.ntabla }}</div>
                        <div class="titulo">Tabla asociada</div>
                    </div>

                    <div class="dobleCaja" *ngIf="miSeleccion<31">
                        <div class="doble_s">                        
                            <div class="valor">{{ registro.modificacion | date:'dd-MMM-yyyy HH:mm' }}</div>
                            <div class="titulo">Fecha del último cambio</div>
                        </div>
                        
                        <!--<div class="doble_s" *ngIf="miSeleccion==4">                        
                            <div class="valorCentroColor" [ngStyle]="{ 'background-color': miSeleccion == 4 && registro.color ? registro.color : 'var(--fondo_tarjeta)' }">{{ '  .  ' }}</div>
                            <div class="tituloCentro">Color</div>
                        </div>-->
                    </div>
                    
                    
                    <div class="doble_s" *ngIf="miSeleccion<31">                        
                        <div class="valor">{{ registro.ucambio }}</div>
                        <div class="titulo">Usuario del último cambio</div>
                    </div>
                    <div *ngIf="miSeleccion>=31 && miSeleccion<35 || miSeleccion==36 || miSeleccion==37">
                        <div class="asignados" *ngIf="registro.estadonro>0" [ngStyle]="{'height': vistaResumen == 1  ? '130px' : vistaResumen == 2 ? '220px' : '130px'}">
                            <div class="dobleCaja">
                                <div class="doble_s">                        
                                    <div class="valor">{{ registro.estado }}</div>
                                    <div class="titulo">Estado</div>
                                </div>
                                <div class="doble_s" [style.marginLeft.px]="3">                        
                                    <div class="valor">{{ (registro.desde ? (registro.desde| date:'dd-MMM-yyyy HH:mm') : 'N/A') }}</div>
                                    <div class="titulo">Asignado desde</div>
                                </div>
                                
                            </div>
                            
                            <div class="dobleCaja" [style.marginTop.px]="-7">
                                <div class="doble_70">                        
                                    <div class="valor70">{{ registro.nchofer }}</div>
                                    <div class="titulo">Nombre del chofer</div>
                                </div>
                                <div class="doble_30">                        
                                    <div class="valor30Centro">{{ registro.placa }}</div>
                                    <div class="tituloCentro">Placas</div>
                                </div>
                            </div>

                            <div class="dobleCaja" [style.marginTop.px]="-7" *ngIf="vistaResumen==2">
                                <div class="doble_s">                        
                                    <div class="valor">{{ registro.ntransporte }}</div>
                                    <div class="titulo">Transporte</div>
                                </div>
                            </div>
                            <div class="dobleCaja" [style.marginTop.px]="-7" *ngIf="vistaResumen==2">
                                <div class="doble_s">                        
                                    <div class="valor">{{ registro.carga }}</div>
                                    <div class="titulo">Carga</div>
                                </div>
                            </div>

                            <div class="dobleCaja" *ngIf="registro.estadonro > 0" >
                                <div class="doble_700">                        
                                    <div class="valor30Izquierdo_2" >{{ registro.ndestino }}</div>
                                    <div class="tituloIzquierdo_2">{{ registro.estadonro == 10 && registro.preasignado == 'S' ? 'Destino preasignado' : 'Destino actual' }}</div>
                                </div>
                                <div class="doble_300" [ngClass]="{ tipoAlarmado: registro.alarmado == 'S', tipoNormal: registro.alarmado != 'S' }">                        
                                    <div class="valor30Centro_2" [ngStyle]="{ 'color': registro.alarmado == 'S' ? 'var(--texto_boton_negativo)' : 'var(--text_tarjeta)' }">{{ arreTiempos[i] }}</div>
                                    <div class="tituloCentro_2" [ngStyle]="{ 'color': registro.alarmado == 'S' ? 'var(--texto_boton_negativo)' : 'var(--text_tarjeta)' }">{{ cadTiempos[i] }}</div>
                                </div>
                            </div>


                        </div>

                        <div class="disponibles" *ngIf="registro.estadonro==0 && miSeleccion!=32" [ngStyle]="{'height': vistaResumen == 1  ? '130px' : vistaResumen == 2 ? '220px' : '130px'}">
                            <div class="centrado">DISPONIBLE</div>
                        </div>
                    </div>
            </button>                
        </div>

        <div class="tabla" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==3 && (miSeleccion<=30 && miSeleccion!=10 && miSeleccion!=11 && miSeleccion!=17) && !movil && menos200">
            <div class="ayudaCampo" *ngIf="registros.length==0 && verSR">No hay registros</div>
            <div class="tablaItems_b">
                <button class="boton_2 regreso6" @esquema_del (@esquema_del.start)="mostrar(0)" (@esquema_del.done)="mostrar(1)"  *ngFor="let registro of registros; let i = index" (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{ botHover: arreHover[i] }" (click)="editar(i)">
                    <div class="tablaDet_2">
                        <div class="col00">
                            <div class="imagenLista" *ngIf="arreImagenes[i] != 'N' && visualizarImagen"><img class="imaReg" [src]="registro.imagen" loading="lazy" alt=".." (error)="imagenError($event, i)" (loaded)="imagenBien($event, i)"></div>
                            <mat-icon *ngIf="arreImagenes[i] == 'N' || !visualizarImagen" class="iconPB_7" [svgIcon]="iconoGeneral"></mat-icon>
                        </div>
                        <div class="col01">{{ registro.id }}</div>
                        <div class="col02" *ngIf="miSeleccion!=2">{{ registro.nombre }}</div>
                        <div class="col03_i" *ngIf="miSeleccion==2">{{ registro.nombre }}</div>
                        <div class="col03_i" *ngIf="miSeleccion==3">{{ registro.referencia }}</div>
                        <div class="col02" *ngIf="miSeleccion==2">{{ registro.nlinea }}</div>
                        <div class="col02" *ngIf="miSeleccion==5">{{ registro.ntabla }}</div>
                        <div class="col02" *ngIf="miSeleccion==9">{{ registro.inicia + '-' + registro.termina }}</div>
                        <div [ngClass]="{ col03_i: registro.estatus == 'activo', col03_a: registro.estatus == 'inactivo' || registro.estatus == 'suspendido' }">{{ registro.estatus }}</div>
                        <div class="col04" >{{ registro.modificacion | date:'dd-MMM-yyyy HH:mm:ss' }}</div>
                        <div class="col04" >{{ registro.ucambio }}</div>
                    </div> 
                </button>   
            </div>                
        </div>

        <div class="tabla" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==3 && (miSeleccion<=30 && miSeleccion!=10 && miSeleccion!=11 && miSeleccion!=17) && movil && menos200">
            <div class="ayudaCampo" *ngIf="registros.length==0 && verSR">No hay registros</div>
            <div class="tablaItems_b">
                <button class="boton_20 regreso6" [@.disabled]="!animando" @esquema_del (@esquema_del.start)="mostrar(0)" (@esquema_del.done)="mostrar(1)"  *ngFor="let registro of registros; let i = index" (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{tarAlarmada_20: (registro.estatus == 'inactivo' || registro.estatus == 'suspendido'), botHover: arreHover[i] }" (click)="editar(i)">
                    <div class="tablaDet_20">
                        <div class="columnas">
                            <mat-icon class="iconPB_30" [svgIcon]="iconoGeneral" [style.width.px]="60"></mat-icon>

                            <div class="filas" [style.flex]="2">
                                <div class="textoMediano">{{ registro.nombre }}</div>
                                <div class="textoMed" *ngIf="miSeleccion==3 && configuracion.agregar_movil=='S'"> Referencia: {{ registro.referencia }}</div>
                                <div class="textoMed" *ngIf="miSeleccion==2">{{ registro.nlinea }}</div>
                                <div class="textoMed" *ngIf="miSeleccion==5">Tabla: {{ registro.ntabla }}</div>
                                <div class="textoMed" *ngIf="miSeleccion==9">Horario: {{ registro.inicia + '-' + registro.termina }}</div>
                                <div class="textoMed" >{{ registro.ucambio }}</div>
                            </div>
                            
                        </div>
                        <div class="miEstatus" [ngClass]="{ col03_i: registro.estatus == 'activo', miEstatus_i: registro.estatus == 'inactivo' || registro.estatus == 'suspendido' }">{{ registro.estatus }}</div>
                    </div> 
                </button>    
            </div>                
        </div>

        
        <div class="detalle" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==2 && (miSeleccion==10)">
            <div class="ayudaCampo" *ngIf="registros.length==0 && verSR">No hay registros</div>
            <button class="tarjeta registro" *ngFor="let registro of registros; let i = index" mat-button (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{tarHover: arreHover[i] }" (click)="editar(i)">
                <mat-icon class="iconMediano" [svgIcon]="iconoGeneral"></mat-icon>
                <div class="textoMediano">{{ registro.literal }}</div>
                <div class="divisorP"></div>
                <div class="doble_s">                        
                    <div class="valor">{{ registro.traduccion }}</div>
                    <div class="titulo">Traducción</div>
                </div>
            </button>                
        </div>

        <div class="detalle" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==2 && (miSeleccion==11 || miSeleccion==17)">
            <div class="ayudaCampo" *ngIf="registros.length==0 && verSR">No hay registros</div>
            <button class="tarjeta registro" *ngFor="let registro of registros; let i = index" mat-button (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{tarAlarmada: (registro.estatus == 'inactivo'), tarHover: arreHover[i] }" (click)="editar(i)">
                <div class="derecha_esc" *ngIf="miSeleccion<=30"><div class="escalamiento">{{ 'id: ' + registro.id }}</div></div>
                <mat-icon class="iconMediano" [svgIcon]="iconoGeneral"></mat-icon>
                <div class="textoMediano">{{ '.' }}</div>
                <div class="divisorP"></div>
                
                <div class="dobleCaja" [style.marginTop.px]="-7" *ngIf="miSeleccion==11">
                    <div class="doble_s">                        
                        <div class="valor">{{ registro.dOrigen }}</div>
                        <div class="titulo">Origen</div>
                    </div>
                </div>
                <div class="dobleCaja" [style.marginTop.px]="-7">
                    <div class="doble_s">                        
                        <div class="valor">{{ registro.dDestino }}</div>
                        <div class="titulo">{{ miSeleccion==11 ? 'Destino' : 'Lugar de descarga' }}</div>
                    </div>
                </div>

                <div class="dobleCaja" [style.marginTop.px]="-7" *ngIf="miSeleccion==17">

                    <div class="doble_s">                        
                        <div class="valor">{{ registro.dTipo }}</div>
                        <div class="titulo">Tipo de vehículo</div>
                    </div>
                </div>

                <div class="dobleCaja" [style.marginTop.px]="-7">
                    <div class="doble_s">                        
                        <div class="valor">{{ registro.tiempo }}</div>
                        <div class="titulo">Tiempo estimado</div>
                    </div>

                    <div class="doble_s" *ngIf="miSeleccion==11">                        
                        <div class="valor">{{ +registro.tEstimado == 0 ? 'General' : 'Específico' }}</div>
                        <div class="titulo">Tipo de estimado</div>
                    </div>
                </div>
            </button>                
        </div>

        <div class="tabla" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="(modelo==3 && verTabla && !movil && (miSeleccion>=30 && miSeleccion<35 || miSeleccion==36  || miSeleccion==37))">
            <div class="ayudaCampo" *ngIf="registros.length==0 && verSR">No hay registros</div>
            <div class="tablaItems_b">
                <button class="boton_2 regreso6" @esquema_del (@esquema_del.start)="mostrar(0)" (@esquema_del.done)="mostrar(1)"  *ngFor="let registro of registros; let i = index" (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{ botHover: arreHover[i]  }" (click)="editar(i)">
                    <div class="tablaDet_20">
                        <div class="col00" >
                            <div class="imagenLista" *ngIf="arreImagenes[i] != 'N' && visualizarImagen"><img class="imaReg" [src]="registro.imagen" (error)="imagenError($event, i)"></div>
                            <mat-icon *ngIf="arreImagenes[i] == 'N' || !visualizarImagen" class="iconPB_7" [svgIcon]="iconoGeneral"></mat-icon>
                        </div>
                        <div class="col01" >{{ registro.id }}</div>
                        <div class="col03_i_r" [ngStyle]="{ 'background-color': registro.color ? registro.color : 'transparent' }" >{{ registro.nombre }}</div>
                        <div class="col03_i" >{{ registro.estado }}</div>
                        <div [ngClass]="{ col05: !movil, col05_m: movil }" *ngIf="miSeleccion!=32">{{ (registro.nchofer=='N/A' ? '' : registro.nchofer) + (registro.ntransporte=='N/A' ? '' : ( '/' + registro.ntransporte)) }}</div>
                        <div class="col02" *ngIf="miSeleccion!=32">{{ registro.ndestino }}</div>
                        <div class="col03_i" *ngIf="miSeleccion!=32">{{ registro.placa }}</div>
                        <div class="col01" *ngIf="miSeleccion==34">{{ registro.orden==0 ? '-' : registro.orden }}</div>
                        <div class="col03_y" *ngIf="miSeleccion!=32" [ngClass]="{ tipoAlarmado: registro.alarmado == 'S', tipoNormal: registro.alarmado != 'S' }">{{ arreTiempos[i] }}</div>
                    </div> 
                </button>   
            </div>                
        </div>

        <div class="tabla" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="(modelo==3 && movil && (miSeleccion>=30 && miSeleccion<35 || miSeleccion==36  || miSeleccion==37))">
            <div class="ayudaCampo" *ngIf="registros.length==0 && verSR">No hay registros</div>
            <div class="tablaItems_b">
                <button class="boton_20 regreso6" [@.disabled]="!animando" @esquema_del (@esquema_del.start)="mostrar(0)" (@esquema_del.done)="mostrar(1)"  *ngFor="let registro of registros; let i = index" (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{ botHover: arreHover[i]  }" (click)="editar(i)">
                    <div class="tablaDet_20" *ngIf="registro.estado !='DISPONIBLE'">
                        
                        <div class="filas" [style.flex]="2" [style.maxWidth.%]="66" [style.minWidth.%]="66" >
                            <div class="textoMed"><mat-icon class="iconPB_20" svgIcon="i_chofer"></mat-icon>{{ registro.nchofer }}</div>
                            <div class="textoMed"><mat-icon class="iconPB_20" svgIcon="i_transporte"></mat-icon>{{ registro.ntransporte }}</div>
                            <div class="textoMed"><mat-icon class="iconPB_20" svgIcon="i_localizacion"></mat-icon>{{ registro.ndestino }}</div>
                            
                        </div>

                        <div class="filas">
                            
                            <div class="textoMedN">{{ registro.estado }}</div>
                            <div class="textoMed">Placas: <span class="textoMedN">{{ registro.placa }}</span></div>
                            <div class="textoMed" [ngClass]="{ tipoAlarmado: registro.alarmado == 'S', tipoNormal: registro.alarmado != 'S' }">Tiempo: <span class="textoMedN">{{ arreTiempos[i] }}</span></div>
                        </div>
                    </div>

                    <div class="tablaDet_2" *ngIf="registro.estado =='DISPONIBLE'">
                        
                        <div class="filas" [style.flex]="2">
                            <div class="textoMediano2"><mat-icon class="iconPB_20" svgIcon="i_voz"></mat-icon>{{ registro.nombre }}</div>
                            <div class="textoMediano">{{ registro.estado }}</div>
                        </div>

                    </div>

                </button>   
            </div>                
        </div>
        
        
        <div class="tabla" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==3 && (miSeleccion==35)">
            <div class="ayudaCampo" *ngIf="registros.length==0 && verSR">No hay registros</div>
            <div class="tablaItems_b">
                <button class="boton_2 regreso6" @esquema_del (@esquema_del.start)="mostrar(0)" (@esquema_del.done)="mostrar(1)"  *ngFor="let registro of registros; let i = index" (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{ botHover: arreHover[i] }" (click)="editar(i)">
                    <div class="tablaDet_2">
                        <div class="col00">
                            <div class="imagenLista" *ngIf="arreImagenes[i] != 'N' && visualizarImagen"><img class="imaReg" [src]="registro.imagen" (error)="imagenError($event, i)"></div>
                            <mat-icon *ngIf="arreImagenes[i] == 'N' || !visualizarImagen" class="iconPB_7" [svgIcon]="iconoGeneral"></mat-icon>
                        </div>
                        <div class="col01">{{ registro.id }}</div>
                        <div class="col02">{{ registro.nombre }}</div>
                        <div class="col02">{{ registro.narea }}</div>
                    </div> 
                </button>   
            </div>                
        </div>

        <div class="tabla" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==3 && (miSeleccion==10)">
            <div class="ayudaCampo" *ngIf="registros.length==0 && verSR">No hay registros</div>
            <div class="tablaItems_b">
                <button class="boton_2 regreso6" @esquema_del (@esquema_del.start)="mostrar(0)" (@esquema_del.done)="mostrar(1)"  *ngFor="let registro of registros; let i = index" (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{ botHover: arreHover[i] }" (click)="editar(i)">
                    <div class="tablaDet_2">
                        <div class="col00">
                            <mat-icon class="iconPB_7" [svgIcon]="iconoGeneral"></mat-icon>
                        </div>
                        <div class="col01">{{ registro.id }}</div>
                        <div class="col02">{{ registro.literal }}</div>
                        <div class="col02">{{ registro.traduccion }}</div>
                    </div> 
                </button>   
            </div>                
        </div>

        <div class="tabla" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==3 && (miSeleccion==11 || miSeleccion==17) && !movil">
            <div class="ayudaCampo" *ngIf="registros.length==0 && verSR">No hay registros</div>
            <div class="tablaItems_b">
                <button class="boton_2 regreso6" @esquema_del (@esquema_del.start)="mostrar(0)" (@esquema_del.done)="mostrar(1)"  *ngFor="let registro of registros; let i = index" (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{ botHover: arreHover[i] }" (click)="editar(i)">
                    <div class="tablaDet_2">
                        <div class="col00">
                            <mat-icon class="iconPB_7" [svgIcon]="iconoGeneral"></mat-icon>
                        </div>
                        <div class="col01">{{ registro.id }}</div>
                        <div class="col02" *ngIf="miSeleccion==11">{{ registro.dOrigen }}</div>
                        <div class="col02">{{ registro.dDestino }}</div>
                        <div class="col02" *ngIf="miSeleccion==17">{{ registro.dTransporte }}</div>
                        <div class="col02" *ngIf="miSeleccion==17">{{ registro.dCarga }}</div>
                        <div class="col02" *ngIf="miSeleccion==17">{{ registro.dTipo }}</div>
                        <div class="col03_y">{{ registro.tiempo }}</div>
                        <div class="col03_i" *ngIf="miSeleccion==11">{{ +registro.tEstimado == 0 ? 'General' : 'Específico' }}</div>
                        <div [ngClass]="{ col03_i: registro.estatus == 'activo', col03_a: registro.estatus == 'inactivo' }">{{ registro.estatus }}</div>

                    </div> 
                </button>   
            </div>                
        </div>


        <div class="tabla" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==3 && (miSeleccion==11 || miSeleccion==17) && movil">
            <div class="ayudaCampo" *ngIf="registros.length==0 && verSR">No hay registros</div>
            <div class="tablaItems_b">
                <button class="boton_20 regreso6" [@.disabled]="!animando" @esquema_del (@esquema_del.start)="mostrar(0)" (@esquema_del.done)="mostrar(1)"  *ngFor="let registro of registros; let i = index" (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{tarAlarmada_20: (registro.estatus == 'inactivo'), botHover: arreHover[i] }" (click)="editar(i)">

                    <div class="tablaDet_2">
                        <div class="columnas">
                            <mat-icon class="iconPB_30" [svgIcon]="iconoGeneral" [style.width.px]="60"></mat-icon>

                            <div class="filas" [style.flex]="2">
                                <div class="textoMed">Origen: <span class="textoMedN">{{ registro.dOrigen }}</span></div>
                                <div class="textoMed">Destino: <span class="textoMedN">{{ registro.dDestino }}</span></div>
                                <div class="textoMed">Estimado: <span class="textoMedN">{{ registro.tiempo }}</span></div>
                            </div>
                            
                        </div>
                        <div class="miEstatus" [ngClass]="{ col03: registro.estatus == 'activo', miEstatus_i: registro.estatus == 'inactivo' }">{{ registro.estatus }}</div>
                    </div> 
                </button>    
            </div>                
        </div>

        <div class="tabla" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==4">
                <div class="registroCaja" *ngIf="miSeleccion<=7 || miSeleccion==9 || miSeleccion==12 || miSeleccion==14">
                    <div class="alertaCaja" *ngIf="faltaMensaje" >
                        <mat-icon class="iconPB_4" svgIcon="i_alerta"></mat-icon>
                        <span class="alertaMensaje" [innerHTML]="faltaMensaje"></span>
                    </div>
                    <div class="registroGeneral">
                        <div class="grupoTitulo" *ngIf="miSeleccion==4 || miSeleccion==12">1. DATOS GENERALES DEL REGISTRO</div>    
                        <div class="grupoTitulo" *ngIf="miSeleccion==12 && detalle.inicializada=='S' && detalle.id>0" [style.marginTop.px]="5">El usuario debe iniciar sesión</div>    
                        <div class="grupoCampos">
                            <div [ngClass]="{ registroCampo: !error01, registroCampo_i: error01 }">
                                <div class="registroTitulo">{{ titulos[1] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtNombre [(ngModel)]="detalle.nombre" maxlength="100" autocomplete="off" name="detalle.nombre"  #nombre ="ngModel" (input)="cambiando($event);error01=false; " >
                                    <button mat-button *ngIf="detalle.nombre" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.nombre = '';cambiando();error01=true;">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ nombre.value?.length || 0 }} de 100</mat-hint>
                                    <mat-hint [ngClass]="{ pista: !error01, pistaError: error01 }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[1] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==14">
                                <div class="registroTitulo" >2. Usuario de un sólo inicio de sesión</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.deunsolouso" name="detalle.deunsolouso" (selectionChange)=cambiando($event)>
                                        <mat-option value="S">SI</mat-option>
                                        <mat-option value="N">No</mat-option>
                                        <mat-option value="Y">Ya usado!</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique si el usuario se usará para una sóla ocasión</span>    
                            </div>
                            
                            <div class="registroCampo" *ngIf="miSeleccion==14">
                                <div class="registroTitulo" >3. Contraseña es requerida</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.obligatoria" name="detalle.obligatoria" (selectionChange)=cambiando($event)>
                                        <mat-option value="S">SI</mat-option>
                                        <mat-option value="N">No</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique si la contraseña es obligatoria, si indica 'No' la aplicación permitirá el ingreso sin contraseña</span>    
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==14">
                                <div class="registroTitulo" >4. La contraseña se vence</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.vence" name="detalle.vence" (selectionChange)=cambiando($event)>
                                        <mat-option value="S">SI</mat-option>
                                        <mat-option value="N">No</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique si la contraseña se vence</span>    
                            </div>
                            
                            <div [ngClass]="{ registroCampo: !error02, registroCampo_i: error02 }" *ngIf="miSeleccion==14">
                                <div class="registroTitulo">5. Días de vigencia de la contraseña</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtT1 type="number" [(ngModel)]="detalle.diasvencimiento" min="1" max="365" maxlength="3" autocomplete="off" name="detalle.diasvencimiento" #diasvencimiento="ngModel" (input)="cambiando($event)">
                                    <mat-hint [ngClass]="{ pista: !error02, pistaError: error02 }" align="start" *ngIf="detalle.vence=='S'">Campo requerido</mat-hint>
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Especifique el número de días de vigencia de la contraseña</span>                                 
                            </div>
                            
                            <div class="registroCampo" *ngIf="miSeleccion==14">
                                <div class="registroTitulo">6. Notificación de contraseña por vencer</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtT1 type="number" [(ngModel)]="detalle.aviso" min="1" max="30" maxlength="3" autocomplete="off" name="detalle.aviso" #aviso="ngModel" (input)="cambiando($event)">
                                    <mat-hint class="pista" align="star">0=No avisar</mat-hint>
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Especifique el número de días previos al vencimiento para que el sistema notifique al usuario que su contraseña está próxima a vencer</span>                                 
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==14">
                                <div class="registroTitulo">7. Largo mínimo de la contraseña</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtT1 type="number" [(ngModel)]="detalle.largo" min="1" max="50" maxlength="3" autocomplete="off" name="detalle.largo" #largo="ngModel" (input)="cambiando($event)">
                                    <mat-hint class="pista" align="star">0=Cualquier largo</mat-hint>
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Especifique el número mínimo de caracteres que debe tener la contraseña</span>                                 
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==14">
                                <div class="registroTitulo">8. Complejidad de la contraseña</div>    

                                <div class="cajaLista">
                                    <mat-selection-list #listaComplejidad class="lista2" [(ngModel)]="detalle.listado" name="detalle.listado" (click)="cambiando($event)">
                                        <mat-list-option value="0" [selected]="detalle.especial == 'S'" checkboxPosition="before">
                                            <div class="columnaLista">
                                                <div >Incluir caracteres especiales</div>
                                            </div>
                                        </mat-list-option>
                                        <mat-list-option value="1" [selected]="detalle.numeros == 'S'" checkboxPosition="before">
                                            <div class="columnaLista">
                                                <div >Incluir números</div>
                                            </div>
                                        </mat-list-option>
                                        <mat-list-option value="2" [selected]="detalle.mayusculas == 'S'" checkboxPosition="before">
                                            <div class="columnaLista">
                                                <div >Mezclar mayúsculas y minúsculas</div>
                                            </div>
                                        </mat-list-option>
                                        
                                    </mat-selection-list>
                                </div>
                                
                                <span class="ayudaCampo_2">Marque los canales de comunicación que desea activar</span>    
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==14">
                                <div class="registroTitulo" >9. Uso de la misma contraseña</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.usadas" name="detalle.usadas" (selectionChange)=cambiando($event)>
                                        <mat-option value="0">Permitir el uso de la misma contraseña</mat-option>
                                        <mat-option value="1">Después de 1 uso</mat-option>
                                        <mat-option value="2">Después de 2 usos</mat-option>
                                        <mat-option value="3">Después de 3 usos</mat-option>
                                        <mat-option value="4">Después de 4 usos</mat-option>
                                        <mat-option value="5">Después de 5 usos</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique el número de veces previas para repetir una contraseña</span>    
                            </div>


                            <div class="registroCampo" *ngIf="miSeleccion==9">
                                <div class="registroTitulo" >2. Secuencia del turno en el día</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.secuencia" name="detalle.secuencia" (selectionChange)=cambiando($event)>
                                        <mat-option value="1">1</mat-option>
                                        <mat-option value="2">2</mat-option>
                                        <mat-option value="3">3</mat-option>
                                        <mat-option value="4">4</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Especifique la secuencia de este turno en el día corriente</span>    
                            </div> 
                            
                            <div class="registroCampo" *ngIf="miSeleccion==9">
                                <div class="registroTitulo">3. Especificar el horario (HH:MM)</div>    
                                <div class="columnas">
                                    <mat-form-field class="cajaTexto_2" [style.width.%]="50">
                                        <input #txtDesde matInput [(ngModel)]="detalle.inicia" type="time" name="detalle.inicia" autocomplete="off" #inicia="ngModel" (input)="cambiando($event)">
                                        <mat-hint class="pista" align="start">Hora de inicio</mat-hint>
                                    </mat-form-field>
                                    <mat-form-field class="cajaTexto_2" [style.marginLeft.%]="2" [style.width.%]="48">
                                        <input #txtDesde matInput [(ngModel)]="detalle.termina" type="time" name="detalle.termina" autocomplete="off" #termina="ngModel" (input)="cambiando($event)">
                                        <mat-hint class="pista" align="start">Hora de fin</mat-hint>
                                    </mat-form-field>                                    
                                </div>
                                <span class="ayudaCampo_2">Especifique el horario de inicio y de fin del turno</span>    
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==9">
                                <div class="registroTitulo" >4. Horario a 2 días</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.cambiodia" name="detalle.cambiodia" (selectionChange)=cambiando($event)>
                                        <mat-option value="S">SI</mat-option>
                                        <mat-option value="N">No</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique si el turno se encuentra entre 2 días</span>    
                            </div> 

                            <div class="registroCampo" *ngIf="miSeleccion==9" [ngStyle]="{'color': detalle.cambiodia == 'S'  ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.cambiodia == 'S' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo" >5. Recorrer la fecha del reporte</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.mover" name="detalle.mover" (selectionChange)=cambiando($event) [disabled]="detalle.cambiodia == 'N'">
                                        <mat-option value="0">No recorrer</mat-option>
                                        <mat-option value="1">Recorrer un día anterior</mat-option>
                                        <mat-option value="2">Recorrer un día después</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Especifique como se calcula la fecha del reporte (Aplica para los turnos a dos días)</span>    
                            </div> 

                            <div class="registroCampo" *ngIf="miSeleccion==9">
                                <div class="registroTitulo" >6. Es un horario especial</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.especial" name="detalle.especial" (selectionChange)=cambiando($event)>
                                        <mat-option value="S">SI</mat-option>
                                        <mat-option value="N">No</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique si el turno cubre 2 días</span>    
                            </div>
                            
                            <div class="registroCampo" *ngIf="miSeleccion==9">
                                <div class="registroTitulo" >7. Tipo de horario</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.tipo" name="detalle.tipo" (selectionChange)=cambiando($event)>
                                        <mat-option value="0">Diario</mat-option>
                                        <mat-option value="1">Matutino</mat-option>
                                        <mat-option value="2">Nocturno</mat-option>
                                        <mat-option value="3">Mixto</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique si el turno cubre 2 días</span>    
                            </div>

                            <div [ngClass]="{ registroCampo: !error02, registroCampo_i: error02 }" *ngIf="miSeleccion==6">
                                <div class="registroTitulo">{{ titulos[24] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput #txtTelefonos cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="6" #txtNotas [(ngModel)]="detalle.telefonos" maxlength="2000" autocomplete="off" name="detalle.telefonos" #telefonos="ngModel" (input)="cambiando($event);error02=false;"></textarea>
                                    <button mat-button *ngIf="detalle.telefonos" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.telefonos = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ telefonos.value?.length || 0 }} de 2000</mat-hint>
                                    <mat-hint [ngClass]="{ pista: !error02, pistaError: error02 }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[24] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==6">
                                <div class="registroTitulo">3. Horario para efectuar llamadas (HH:MM)</div>    
                                <div class="columnas">
                                    <mat-form-field class="cajaTexto_2" [style.width.%]="50">
                                        <input #txtT1 matInput [(ngModel)]="detalle.hora_desde" type="time" name="detalle.hora_desde" autocomplete="off" #hora_desde="ngModel" (input)="cambiando($event);error03=false">
                                        <mat-hint *ngIf="!error03" class="pista" align="start">Hora de inicio</mat-hint>
                                        <mat-hint *ngIf="error03" class="pistaError" align="start">Incongruencia en horario</mat-hint>
                                    </mat-form-field>
                                    <mat-form-field class="cajaTexto_2" [style.marginLeft.%]="2" [style.width.%]="48">
                                        <input #txtDesde matInput [(ngModel)]="detalle.hora_hasta" type="time" name="detalle.hora_hasta" autocomplete="off" #termina="ngModel" (input)="cambiando($event)">
                                        <mat-hint class="pista" align="start">Hora de fin</mat-hint>
                                    </mat-form-field>                                    
                                </div>
                                <span class="ayudaCampo_2">Especifique inicio y fin del horario para efectuar llamadas a este recipiente</span>    
                            </div>

                            <div [ngClass]="{ registroCampo: !error02, registroCampo_i: error02 }" *ngIf="miSeleccion==7">
                                <div class="registroTitulo">{{ titulos[27] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput #txtTelefonos cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="6" #txtNotas [(ngModel)]="detalle.para" maxlength="2000" autocomplete="off" name="detalle.para" #para="ngModel" (input)="cambiando($event);error02=false;"></textarea>
                                    <button mat-button *ngIf="detalle.para" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.para = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ para.value?.length || 0 }} de 2000</mat-hint>
                                    <mat-hint [ngClass]="{ pista: !error02, pistaError: error02 }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[27] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==7">
                                <div class="registroTitulo">{{ titulos[28] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput #txtTelefonos cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="6" #txtNotas [(ngModel)]="detalle.copia" maxlength="2000" autocomplete="off" name="detalle.copia" #copia="ngModel" (input)="cambiando($event);error02=false;"></textarea>
                                    <button mat-button *ngIf="detalle.copia" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.copia = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ copia.value?.length || 0 }} de 2000</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[28] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==7">
                                <div class="registroTitulo">{{ titulos[29] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput #txtTelefonos cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="6" #txtNotas [(ngModel)]="detalle.oculta" maxlength="2000" autocomplete="off" name="detalle.oculta" #oculta="ngModel" (input)="cambiando($event);error02=false;"></textarea>
                                    <button mat-button *ngIf="detalle.oculta" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.oculta = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ oculta.value?.length || 0 }} de 2000</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[29] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==7">
                                <div class="registroTitulo">{{ titulos[30] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput #txtTelefonos cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="3" #txtNotas [(ngModel)]="detalle.titulo" maxlength="200" autocomplete="off" name="detalle.titulo" #titulo="ngModel" (input)="cambiando($event);error02=false;"></textarea>
                                    <button mat-button *ngIf="detalle.titulo" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.titulo = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ titulo.value?.length || 0 }} de 200</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[30] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==7">
                                <div class="registroTitulo">{{ titulos[31] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput #txtTelefonos cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="6" #txtNotas [(ngModel)]="detalle.cuerpo" maxlength="1000" autocomplete="off" name="detalle.cuerpo" #cuerpo="ngModel" (input)="cambiando($event);error02=false;"></textarea>
                                    <button mat-button *ngIf="detalle.cuerpo" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.cuerpo = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ cuerpo.value?.length || 0 }} de 1000</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[31] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==7">
                                <div class="registroTitulo">{{ titulos[32] }}</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(ngModel)]="selListadoT" (selectionChange)="seleccion(6, $event)">
                                        <mat-option value="S">Acción masiva en la lista de reportes</mat-option>
                                        <mat-option value="1">Seleccionar todos los reportes</mat-option>
                                        <mat-option value="0">Deseleccionar todos los reportes</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <div class="cajaLista">
                                    <mat-selection-list class="lista2" #listaListad [(ngModel)]="detalle.listado" name="detalle.listado" (click)="cambiando($event)">
                                        <mat-list-option *ngFor="let listado of listados; let i = index" [value]="listado.id" [selected]="listado.seleccionado==1" checkboxPosition="before">
                                            <div class="columnaLista">
                                                <div >{{listado.nombre }}</div>
                                            </div>
                                        </mat-list-option>
                                    </mat-selection-list>
                                    
                                </div>
                                <span class="pistaError" *ngIf="error03" align="start">Seleccione al menos un reporte</span>
                                <span class="pistaError" *ngIf="error05" align="start">No se recomienda enviar más de 10 reportes adjuntos en el mismo reporte</span>
                                <span class="ayudaCampo_2">{{ ayudas[32] }}</span>       
                            </div>

                            <div class="registroCampo"  *ngIf="miSeleccion==7">
                                <div class="registroTitulo" >{{ titulos[33] }}</div> 
                                <div class="columnas">
                                    <mat-form-field class="texto66">
                                        <mat-select [(value)]="nExtraccion" name="nExtraccion" (selectionChange)="cambiando($event)">
                                            <mat-option value="0">Segundos (atrás)</mat-option>
                                            <mat-option value="1">Minutos (atrás)</mat-option>
                                            <mat-option value="2">Horas (atrás)</mat-option>
                                            <mat-option value="3">Días (atrás)</mat-option>
                                            <mat-option value="4">Semanas (atrás)</mat-option>
                                            <mat-option value="5">Meses (atrás)</mat-option>
                                            <mat-option value="6">Años (atrás)</mat-option>
                                            <mat-option value="10">Lo que va del día</mat-option>
                                            <mat-option value="11">Lo que va de la semana</mat-option>
                                            <mat-option value="12">Lo que va del mes (MtD)</mat-option>
                                            <mat-option value="13">Lo que va del año (YtD)</mat-option>
                                            <mat-option value="20">Ayer</mat-option>
                                            <mat-option value="21">Semana anterior</mat-option>
                                            <mat-option value="22">Mes anterior</mat-option>
                                            <mat-option value="23">Año anterior</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <mat-form-field class="texto33">
                                        <input matInput #txtT1 type="number" min="1" max="100000000" [(ngModel)]="nLapso" maxlength="8" autocomplete="off" name="nLapso" required #nLapsoN="ngModel" (input)="cambiando($event)" [disabled]="nExtraccion>6">
                                        <mat-hint [ngClass]="{ pista: nExtraccion<=6, pistaI: nExtraccion>6, pistaError: error04 }" align="end">Períodos atrás</mat-hint>
                                    </mat-form-field>
                                    
                                </div>
                                <span class="ayudaCampo_2">{{ ayudas[33] }}</span>
                            </div>

                            <div class="registroCampo"  *ngIf="miSeleccion==7">
                                <div class="registroTitulo" >{{ titulos[34] }}</div> 
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="nFrecuencia" name="nFrecuencia" (selectionChange)="cambiando($event)">
                                        <mat-option value="T">Todos los días</mat-option>
                                        <mat-option value="LV">De lunes a viernes</mat-option>
                                        <mat-option value="L">Cada lunes</mat-option>
                                        <mat-option value="M">Cada martes</mat-option>
                                        <mat-option value="MI">Cada miércoles</mat-option>
                                        <mat-option value="J">Cada jueves</mat-option>
                                        <mat-option value="V">Cada viernes</mat-option>
                                        <mat-option value="S">Cada sábado</mat-option>
                                        <mat-option value="D">Cada domingo</mat-option>
                                        <mat-option value="1M">El primer día del mes</mat-option>
                                        <mat-option value="UM">El último día del mes</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">{{ ayudas[34] }}</span>
                            </div>

                            <div class="registroCampo"  *ngIf="miSeleccion==7">
                                <div class="registroTitulo" >{{ titulos[35] }}</div> 
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="nHorario" name="nHorario" (selectionChange)="cambiando($event)">
                                        <mat-option value="T">A toda hora</mat-option>
                                        <mat-option value="0">0:00 horas</mat-option>
                                        <mat-option value="1">1:00am</mat-option>
                                        <mat-option value="2">2:00am</mat-option>
                                        <mat-option value="3">3:00am</mat-option>
                                        <mat-option value="4">4:00am</mat-option>
                                        <mat-option value="5">5:00am</mat-option>
                                        <mat-option value="6">6:00am</mat-option>
                                        <mat-option value="7">7:00am</mat-option>
                                        <mat-option value="8">8:00am</mat-option>
                                        <mat-option value="9">9:00am</mat-option>
                                        <mat-option value="10">10:00am</mat-option>
                                        <mat-option value="11">11:00am</mat-option>
                                        <mat-option value="12">12:00m</mat-option>
                                        <mat-option value="13">1:00pm</mat-option>
                                        <mat-option value="14">2:00pm</mat-option>
                                        <mat-option value="15">3:00pm</mat-option>
                                        <mat-option value="16">4:00pm</mat-option>
                                        <mat-option value="17">5:00pm</mat-option>
                                        <mat-option value="18">6:00pm</mat-option>
                                        <mat-option value="19">7:00pm</mat-option>
                                        <mat-option value="20">8:00pm</mat-option>
                                        <mat-option value="21">9:00pm</mat-option>
                                        <mat-option value="22">10:00pm</mat-option>
                                        <mat-option value="23">11:00pm</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">{{ ayudas[35] }}</span>
                            </div>
                            <div class="registroCampoST" *ngIf="miSeleccion==7">
                                <div class="registroTituloST">{{ titulos[36] }}</div>    
                                <div class="registroValorDetalleST">{{ detalle.ultimo_envio | date:'dd-MMM-yyyy HH:mm:ss' }}</div>    
                            </div>


                            <div class="registroCampo" *ngIf="miSeleccion==6">
                                <div class="registroTitulo">{{ titulos[25] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="6" #txtNotas [(ngModel)]="detalle.correos" maxlength="2000" autocomplete="off" name="detalle.correos" #correos="ngModel" (input)="cambiando($event)"></textarea>
                                    <button mat-button *ngIf="detalle.correos" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.correos = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ correos.value?.length || 0 }} de 2000</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[25] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==6">
                                <div class="registroTitulo">{{ titulos[26] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="6" #txtNotas [(ngModel)]="detalle.mmcall" maxlength="2000" autocomplete="off" name="detalle.mmcall" #mmcall="ngModel" (input)="cambiando($event)"></textarea>
                                    <button mat-button *ngIf="detalle.mmcall" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.mmcall = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ mmcall.value?.length || 0 }} de 2000</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[26] }}</span>       
                            </div>

                            
                            <div class="registroCampo" *ngIf="miSeleccion==5">
                                <div class="registroTitulo">{{ titulos[23] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.tabla" name="detalle.tabla" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let tabla of tablas; let i = index" [value]="tabla.id">{{ tabla.nombre }}</mat-option>
                                    </mat-select>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[23] }}</span>       
                            </div>

                            <div [ngClass]="{ registroCampo: !error02, registroCampo_i: error02 }" *ngIf="miSeleccion==5 && detalle.tabla==25">
                                <div class="registroTitulo">Marca asociada al modelo</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC0 [(ngModel)]="detalle.id_relacionado" name="detalle.id_relacionado" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let tabla of agrupadores1; let i = index" [value]="tabla.id">{{ tabla.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint [ngClass]="{ pista: !error02, pistaError: error02 }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Indique la marca asociada a este modelo</span>       
                            </div>

                           
                            <div class="registroCampo" *ngIf="miSeleccion==2">
                                <div class="registroTitulo">{{ titulos[20] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.linea" name="detalle.linea" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let linea of lineas; let i = index" [value]="linea.id">{{ linea.nombre }}</mat-option>
                                    </mat-select>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[20] }}</span>       
                            </div>

                            <div [ngClass]="{ registroCampo: !error02, registroCampo_i: error02 }" *ngIf="(miSeleccion!=5 && miSeleccion!=7 && miSeleccion!=14) || (miSeleccion==3 && configuracion.agregar_movil=='S') ">
                                <div class="registroTitulo">{{ titulos[2] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtT1 [(ngModel)]="detalle.referencia" maxlength="30" autocomplete="off" name="detalle.referencia"  #referencia ="ngModel" (input)="cambiando($event)">
                                    <button mat-button *ngIf="detalle.referencia" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.referencia = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ referencia.value?.length || 0 }} de 30</mat-hint>
                                    <mat-hint *ngIf="miSeleccion!=12" class="pista" align="start">Campo opcional</mat-hint>
                                    <mat-hint *ngIf="miSeleccion==12" [ngClass]="{ pista: !error02, pistaError: error02 }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[2] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==12" [ngStyle]="{'color': detalle.admin == 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.admin == 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo" >{{ titulos[3] }}</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.rol" name="detalle.rol" (selectionChange)="seleccion(5, $event);cambiando($event)" [disabled]="detalle.admin=='S'">
                                        <mat-option value="A">ADMINISTRADOR</mat-option>
                                        <mat-option value="G">Gestor de la aplicación</mat-option>
                                        <mat-option value="O">Operador</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique el proceso que desea monitorear con esta alerta</span>    
                            </div>

                            <!--<div class="registroCampo" *ngIf="miSeleccion==99 || miSeleccion==4">
                                <div class="registroTitulo">{{ titulos[3] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.url_mmcall" name="detalle.url_mmcall" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let lista of listas; let i = index" [value]="lista.id">{{ lista.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[3] }}</span>       
                            </div>-->

                            <div class="registroCampo" *ngIf="miSeleccion<=4">
                                <div class="registroTitulo">{{ titulos[4] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="3" #txtNotas [(ngModel)]="detalle.notas" maxlength="300" autocomplete="off" name="detalle.notas" #notas="ngModel" (input)="cambiando($event)"></textarea>
                                    <button mat-button *ngIf="detalle.notas" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.notas = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ notas.value?.length || 0 }} de 300</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[4] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==3">
                                <div class="registroTitulo">4. Correo electrónico</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput [(ngModel)]="detalle.correo" maxlength="100" autocomplete="off" name="detalle.correo"  #correo ="ngModel" (input)="cambiando($event);" >
                                    <button mat-button *ngIf="detalle.correo" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.correo='';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ correo.value?.length || 0 }} de 100</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Especifique el correo electrónico del chofer</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion!=5 && miSeleccion!=6 && miSeleccion!=7 && miSeleccion!=9 && miSeleccion!=14">
                                <div class="registroTitulo">{{ titulos[5] }}</div>    
                                <div class="registroconImagen">
                                    <div class="registroValorconImagen">
                                        <mat-form-field class="cajaTexto_2">
                                            <input matInput #txtImagen [(ngModel)]="detalle.imagen" maxlength="255" autocomplete="off" name="imagen" #imagenN="ngModel" (input)="cambiando($event)">
                                            <button mat-button *ngIf="detalle.imagen" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.imagen = '';cambiando($event)">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                            <mat-hint class="pista" align="end">{{ imagenN.value?.length || 0 }} de 255</mat-hint>
                                            <mat-hint class="pista" align="start">{{ mensajeImagen }}</mat-hint>
                                        </mat-form-field>  
                                        <span class="ayudaCampo_2">{{ ayudas[5] }}</span>   
                                    </div>
                                    <input type="file" style="display: none" (change)="onFileSelected($event)" accept=".png;.jpg;.svg;.bmp" #fileInput> 
                                    <button class="boton regreso4" mat-button (mouseover)="imagenSel=true;" (mouseout)="imagenSel=false;" [matTooltip] = "ayuda01" matTooltipClass = "toolTip2" matTooltipShowDelay = "100" [ngClass]="{botHover: imagenSel}" (click)="fileInput.click()">
                                        <div class="imagen_grande" *ngIf="mostrarImagenRegistro=='S'"><img class="registroImagenPropia" [src]="detalle.imagen" (error)="imagenErrorRegistro()" (onload)="this.mensajeImagen = 'Campo opcional'"></div>
                                        <mat-icon *ngIf="mostrarImagenRegistro=='N'" class="iconMediano" [svgIcon]="iconoGeneral"></mat-icon>
                                    </button>                                    
                                </div>
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==2">
                                <div class="registroTitulo">{{ titulos[15] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.tipo" name="detalle.tipo" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let tipo of tipos; let i = index" [value]="tipo.id">{{ tipo.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[15] }}</span>       
                            </div>
                            
                            <div class="registroCampo" *ngIf="miSeleccion==1 || (miSeleccion==2 && configuracion.adicionales=='S')">
                                <div class="registroTitulo">{{ titulos[13] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC0 [(ngModel)]="detalle.agrupador_1" name="detalle.agrupador_1" (selectionChange)=cambiando($event) (selectionChange)=buscarMarca(detalle.agrupador_1)>
                                        <mat-option *ngFor="let agrupador_1 of agrupadores1; let i = index" [value]="agrupador_1.id">{{ agrupador_1.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[13] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==2 && configuracion.adicionales=='S'"> <!-- || miSeleccion==4">-->
                                <div class="registroTitulo">{{ titulos[14] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.agrupador_2" name="detalle.agrupador_2" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let agrupador_2 of agrupadores2; let i = index" [value]="agrupador_2.id">{{ agrupador_2.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[14] }}</span>       
                            </div>

                            <!--<div class="registroCampo" *ngIf="miSeleccion==4">
                                <div class="registroTitulo">1.7. Color representativo</div>    
                                <dx-color-box class="colores" [(value)]="detalle.color" applyButtonText="Aceptar" cancelButtonText="Cancelar" (click)="cambiando($event)" (input)="cambiando($event)">
                                </dx-color-box>
                                <span class="ayudaCampo_2">Especifique el color que representará el área</span>                                 
                            </div>-->

                            
                            
                            <div class="registroCampo" *ngIf="miSeleccion==12">
                                <div class="registroTitulo">{{ titulos[13] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.politica" name="detalle.politica" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let tabla of tablas; let i = index" [value]="tabla.id">{{ tabla.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[13] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==12">
                                <div class="registroTitulo">{{ titulos[18] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.compania" name="detalle.compania" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let falla of fallas; let i = index" [value]="falla.id">{{ falla.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[18] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==12">
                                <div class="registroTitulo">{{ titulos[19] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.departamento" name="detalle.departamento" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let lista of listas; let i = index" [value]="lista.id">{{ lista.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[19] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==12">
                                <div class="registroTitulo">{{ titulos[20] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.planta" name="detalle.planta" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let tipo of tipos; let i = index" [value]="tipo.id">{{ tipo.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[20] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==4">
                                <div class="registroTitulo">{{ titulos[14] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(value)]="detalle.inicial" name="detalle.inicial" (selectionChange)="cambiando($event)">
                                        <mat-option value="S">Si</mat-option>
                                        <mat-option value="N">No</mat-option>
                                    </mat-select>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[14] }}</span>       
                            </div>

                            <div class="registroCampo" *ngIf="miSeleccion==4">
                                <div class="registroTitulo">{{ titulos[15] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(value)]="detalle.final" name="detalle.final" (selectionChange)="cambiando($event)">
                                        <mat-option value="S">Si</mat-option>
                                        <mat-option value="N">No</mat-option>
                                    </mat-select>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[15] }}</span>       
                            </div>

                            <!--<div [ngClass]="{ registroCampo: !error20 && !error21, registroCampo_i: error20 || error21 }" *ngIf="miSeleccion==4">
                            
                                <div class="registroTitulo">{{ titulos[16] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC0 [(value)]="detalle.patio_espera" name="detalle.patio_espera" (selectionChange)="cambiando($event)">
                                        <mat-option value="S">Si</mat-option>
                                        <mat-option value="N">No</mat-option>
                                    </mat-select>
                                    <mat-hint [ngClass]="{ pista: !error20 && !error21, pistaError: error20 || error21 }" align="start">{{ error20 ? 'El destino de espera no puede ser el mismo destino inicial' : error21 ? 'El destino de espera no puede ser el mismo destino final' : '' }}</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">{{ ayudas[16] }}</span>       
                            </div>-->

                            <div [ngClass]="{ registroCampo: detalle.estatus == 'A', registroCampo_i: detalle.estatus == 'I' || detalle.estatus == 'S'}" [ngStyle]="{'color': detalle.admin == 'N' && miSeleccion==12 ? 'var(--texto_boton)' : miSeleccion==12 ? 'var(--texto_boton_inactivo)' : 'var(--texto_boton)', 'border-color': detalle.admin == 'N' && miSeleccion==12 ? 'var(--borde_tarjeta)' : miSeleccion==12 ? 'var(--texto_boton_inactivo)' : 'var(--borde_tarjeta)' }">
                                <div class="registroTitulo" >{{ titulos[6] }}</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(value)]="detalle.estatus" name="detalle.estatus" (selectionChange)=cambiando($event) [disabled]="detalle.admin=='S'">
                                        <mat-option value="A">ACTIVO</mat-option>
                                        <mat-option value="I">Inactivo</mat-option>
                                        <mat-option *ngIf="miSeleccion==3" value="S">SUSPENDIDO</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">{{ ayudas[6] }}</span>    
                            </div> 

                            <div class="registroCampoST" *ngIf="detalle.creacion">
                                <div class="registroTituloST">{{ titulos[7] }}</div>    
                                <div class="registroValorDetalleST">{{ detalle.creacion | date:'dd-MMM-yyyy HH:mm:ss' }}</div>    
                            </div>
                            <div class="registroCampoST" *ngIf="detalle.modificacion">
                                <div class="registroTituloST" >{{ titulos[8] }}</div>    
                                <div class="registroValorDetalleST">{{ detalle.modificacion | date:'dd-MMM-yyyy HH:mm:ss' }}</div>    
                            </div>
                            <div class="registroCampoST" *ngIf="detalle.creado">
                                <div class="registroTituloST">{{ titulos[9] }}</div>    
                                <div class="registroValorDetalleST">{{ detalle.ucreo }}</div>    
                            </div>
                            <div class="registroCampoST" *ngIf="detalle.modificado">
                                <div class="registroTituloST">{{ titulos[10] }}</div>    
                                <div class="registroValorDetalleST">{{ detalle.ucambio }}</div>    
                            </div>
                            <div class="registroCampoST" *ngIf="detalle.id > 0">
                                <div class="registroTituloST">{{ titulos[11] }}</div>    
                                <div class="registroValorDetalleST">{{ detalle.id }}</div>    
                            </div>
                        </div>

                        <div class="grupoTitulo" *ngIf="miSeleccion==4">2. Generación de audios por destino</div>    
                        <div class="grupoCampos" *ngIf="miSeleccion==4">

                            <div class="registroCampo">
                                <div class="registroTitulo" >2.1. Activar la generación de audios por destino</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.audios_activar" name="detalle.audios_activar" (selectionChange)=cambiando($event)>
                                        <mat-option value="S">SI</mat-option>
                                        <mat-option value="N">No</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Se le enviará un SMS al número que no respondió</span>    
                            </div>
                            
                            <div class="registroCampo">
                                <div class="registroTitulo">2.2. Ruta de la carpeta de audios</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput  [(ngModel)]="detalle.audios_ruta" maxlength="1000" autocomplete="off" name="detalle.audios_ruta" #audios_ruta="ngModel" (input)="cambiando($event)">
                                    <mat-hint class="pista" align="end">{{ audios_ruta.value?.length || 0 }} de 1000</mat-hint>
                                </mat-form-field>   
                                <span class="ayudaCampo_2">Ruta dónde se almacenarán los audios (debe existir en el servidor)</span>                                 
                            </div>

                            <div class="registroCampo">
                                <div class="registroTitulo">2.3. Archivo de audio de prefijo</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput  [(ngModel)]="detalle.audios_prefijo" maxlength="1000" autocomplete="off" name="detalle.audios_prefijo" #audios_prefijo="ngModel" (input)="cambiando($event)">
                                    <mat-hint class="pista" align="end">{{ audios_prefijo.value?.length || 0 }} de 1000</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>   
                                <span class="ayudaCampo_2">Ruta dónde se almacenarán los audios (debe existir en el servidor)</span>                                 
                            </div>

                            <div class="registroCampo">
                                <div class="registroTitulo" >2.4. Guardar una copia del audio en la carpeta general</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.audios_general" name="detalle.audios_general" (selectionChange)=cambiando($event)>
                                        <mat-option value="S">SI</mat-option>
                                        <mat-option value="N">No</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Debe activar la funcionalidad de audios generales en los parámetros del sistema</span>    
                            </div>
                        </div>

                        
                        <div class="grupoTitulo" *ngIf="miSeleccion==12">2. ACCESO A OPCIONES Y FUNCIONALIDADES ESPECIFICAS</div>    
                        <div class="grupoCampos" *ngIf="miSeleccion==12">
                            
                        
                            <div class="registroCampo" [ngStyle]="{'color': detalle.admin == 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.admin == 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">2.1 Lista de opciones y funciones específicas</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(ngModel)]="opciones" (selectionChange)="seleccion(4, $event);cambiando($event)" [disabled]="detalle.admin=='S'">
                                        <mat-option value="S">Acción masiva en la lista de funcionalidades</mat-option>
                                        <mat-option value="1">Seleccionar todas las funcionalidades</mat-option>
                                        <mat-option value="0">Deseleccionar todas las funcionalidades</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <div class="cajaLista9">
                                    <mat-selection-list class="lista9" #lista4 [(ngModel)]="detalle.listado4" name="detalle.listado4" (click)="cambiando($event)" [disabled]="detalle.admin=='S'">
                                        <mat-list-option *ngFor="let linea of opcionesSel; let i = index" [value]="linea.id" [selected]="linea.seleccionado==1" checkboxPosition="before">
                                            <div class="columnaLista">
                                                <div class="opcNombre">{{linea.nombre }}</div>
                                                <div class="opcRol">{{linea.erol }}</div>
                                            </div>
                                        </mat-list-option>
                                        
                                    </mat-selection-list>
                                </div>
                                <span [ngClass]="{ ayudaCampo_2: detalle.admin == 'N', ayudaCampo_4: detalle.admin == 'S' }">{{ detalle.admin == 'S' ? 'El usuario ADMIN tiene acceso a todas las opciones y funcionalidades' : 'El rol de usuario establecerá algunas opciones. El administrador puede asignar o desasignar opciones específicas al perfil de usuario'}}</span>       
                            </div>

                        </div>

                    </div>
                </div>

                <div class="registroCaja" *ngIf="miSeleccion==8">
                    <div class="alertaCaja" *ngIf="faltaMensaje" >
                        <mat-icon class="iconPB_4" svgIcon="i_alerta"></mat-icon>
                        <span class="alertaMensaje" [innerHTML]="faltaMensaje"></span>
                    </div>
                    <div class="registroGeneral_alerta">
                        <div class="grupoTitulo">1. DATOS GENERALES DE LA ALERTA</div>    
                        <div class="grupoCampos">
                            <div [ngClass]="{ registroCampo: !error01, registroCampo_i: error01 }" >
                                <div class="registroTitulo">1.1. Nombre/Descripción</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtNombre [(ngModel)]="detalle.nombre" maxlength="60" autocomplete="off" name="detalle.nombre"  #nombre ="ngModel" (input)="cambiando($event);error01=false; " >
                                    <button mat-button *ngIf="detalle.nombre" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.nombre = '';cambiando();error01=true;">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ nombre.value?.length || 0 }} de 60</mat-hint>
                                    <mat-hint [ngClass]="{ pista: !error01, pistaError: error01 }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Nombre de la alerta</span>       
                            </div>

                            <div class="registroCampo">
                                <div class="registroTitulo">1.2. Referencia</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput [(ngModel)]="detalle.referencia" maxlength="50" autocomplete="off" name="detalle.referencia"  #referencia ="ngModel" (input)="cambiando($event)">
                                    <button mat-button *ngIf="detalle.referencia" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.referencia = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ referencia.value?.length || 0 }} de 50</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Referencia con otros sistemas</span>       
                            </div>

                            <div class="registroCampo">
                                <div class="registroTitulo" >1.3. Evento a monitorear</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(value)]="detalle.evento" name="detalle.evento" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let evento of eventos; let i = index" [value]="evento.alerta">{{ evento.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint class="pista" align="start">{{ detalle.evento01 ? 'Sólo seenviará una notificación al primer nivel' : '' }}</mat-hint>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique el evento que desea monitorear con esta alerta</span>    
                            </div>

                            <div class="registroCampo">
                                <div class="registroTitulo">1.4. Tiempo de espera</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtT1 type="number" [(ngModel)]="detalle.transcurrido" maxlength="12" autocomplete="off" name="detalle.transcurrido" #transcurrido="ngModel" (input)="cambiando($event)">
                                    <mat-hint class="pista" align="start">Campo requerido</mat-hint>
                                    <mat-hint class="pista" align="end">Expresado en segundos</mat-hint>
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Tiempo de espera para que se active la alerta</span>                                 
                            </div> 

                            <div class="registroCampo">
                                <div class="registroTitulo" >1.5. Solapar la alerta</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.solapar" name="detalle.solapar" (selectionChange)=cambiando($event)>
                                        <mat-option value="S">SI</mat-option>
                                        <mat-option value="N">No</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Si selecciona No, sólo podrá haber una alerta activa</span>    
                            </div>

                            <div class="registroCampo">
                                <div class="registroTitulo">1.6. Notas</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="3" #txtNotas [(ngModel)]="detalle.notas" maxlength="300" autocomplete="off" name="detalle.notas" #notas="ngModel" (input)="cambiando($event)"></textarea>
                                    <button mat-button *ngIf="detalle.notas" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.notas = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ notas.value?.length || 0 }} de 300</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Notas del registro</span>       
                            </div>

                            <div class="registroCampo">
                                <div class="registroTitulo">1.7. Transporte asociado</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(ngModel)]="detalle.linea" (selectionChange)="seleccion(1, $event);cambiando($event)">
                                        <mat-option value="S">Todos los transportes</mat-option>
                                        <mat-option value="N">Transportes de la lista</mat-option>
                                        <div class="divisorP"></div>
                                        <mat-option value="1">Seleccionar todas los Tansportes</mat-option>
                                        <mat-option value="0">Deseleccionar todas los Tansportes</mat-option>
                                    </mat-select>
                                </mat-form-field>

                                <div class="cajaLista" [ngStyle]="{'border-color': detalle.linea!='S' ? 'var(--borde_boton)' : 'var(--texto_boton_inactivo)'}">
                                    <mat-selection-list class="lista" #lista1 [(ngModel)]="detalle.lineasT" name="detalle.lineasT" (click)="cambiando($event)" [disabled]="detalle.linea=='S'">
                                        <mat-list-option *ngFor="let linea of lineasSel; let i = index" [value]="linea.id" [selected]="linea.seleccionado==1" checkboxPosition="before">
                                            <div class="columnaLista">
                                                <div class="lineaLista">{{linea.nombre }}</div>
                                            </div>
                                        </mat-list-option>
                                    </mat-selection-list>
                                </div>
                                <span class="ayudaCampo_2">Marque el (los) transporte(s) a los que aplicará esta alerta</span>             
                            </div>

                            <div class="registroCampo">
                                <div class="registroTitulo">1.8. Canal de comunicación</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC0 multiple [(value)]="seleccionMensaje" name="seleccionMensaje" (selectionChange)=cambiando($event)>
                                        <mat-option value="C">Por correo electrónico</mat-option>
                                        <mat-option value="M">Por mensaje de MMCall</mat-option>
                                        <mat-option value="L">Por llamadas telefónica</mat-option>
                                        <mat-option value="S">Por mensaje de texto</mat-option>
                                        <mat-option value="G">Crear log</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="error20" class="pistaError" align="start">Marque al menos un canal</mat-hint>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Seleccione el canal o canales por dónde se emitirá el mensaje</span>      
                            </div>

                            <div class="registroCampo">
                                <div class="registroTitulo">1.9. Recipiente asociado</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC10 [(ngModel)]="detalle.lista" name="detalle.lista" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let lista of listas; let i = index" [value]="lista.id">{{ lista.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="error30" class="pistaError" align="start">Seleccione un recipiente válido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Indique el recipiente asociado a esta alarma</span>       
                            </div>

                            <!--<div class="registroCampo">
                                <div class="registroTitulo" >1.10. Notificar al recipiente del transporte</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.tipo" name="detalle.tipo" (selectionChange)=cambiando($event)>
                                        <mat-option value="1">SI</mat-option>
                                        <mat-option value="0">No</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Se enviará la alerta, las repeticiones y  escalamientos al recipiente del transporte</span>    
                            </div>-->

                            <div [ngClass]="{ registroCampo: detalle.estatus == 'A', registroCampo_i: detalle.estatus == 'I' }">
                                <div class="registroTitulo" >1.10. Estatus del registro</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.estatus" name="detalle.estatus" (selectionChange)=cambiando($event)>
                                        <mat-option value="A">ACTIVO</mat-option>
                                        <mat-option value="I">Inactivo</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Al inactivar el registro ya no estará disponible en el sistema</span>    
                            </div> 
        
                                
                        </div>

                        <div class="grupoTitulo">2. MENSAJE A ENVIAR</div>    
                        <div class="grupoCampos">
                        
                            <div class="registroCampo">
                                <div class="registroTitulo">2.1 Mensaje a enviar (canal distinto a MMCall)</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="3" [(ngModel)]="detalle.mensaje" maxlength="300" autocomplete="off" name="detalle.mensaje" #mensaje="ngModel" (input)="cambiando($event)"></textarea>
                                    <button mat-button *ngIf="detalle.mensaje" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.mensaje = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ mensaje.value?.length || 0 }} de 300</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>    
                                                    
                                <span class="ayudaCampo_2">Este mensaje se enviaría por correo, llamada telefónica o SMS</span>       
                                
                            </div>

                            <div class="registroCampo">
                                <div class="registroTitulo">2.2 Titulo del mensaje a enviar (sólo canal de correo electrónico)</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="3" [(ngModel)]="detalle.titulo" maxlength="100" autocomplete="off" name="detalle.titulo" #titulo="ngModel" (input)="cambiando($event)"></textarea>
                                    <button mat-button *ngIf="detalle.titulo" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.titulo = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ titulo.value?.length || 0 }} de 100</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Este campo se usaría sólo para el canal de correos</span>     
                                
                            </div>

                            <div class="registroCampo">
                                <div class="registroTitulo">2.3 Mensaje a enviar por MMCall</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="2" [(ngModel)]="detalle.mensaje_mmcall" maxlength="60" autocomplete="off" name="detalle.mensaje_mmcall" #mensaje_mmcall="ngModel" (input)="cambiando($event)"></textarea>
                                    '<button mat-button *ngIf="detalle.mensaje_mmcall" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.mensaje_mmcall = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ mensaje_mmcall.value?.length || 0 }} de 60</mat-hint>
                                    <mat-hint class="pista" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Este campo se usaría sólo para el canal de MMCall</span>  
                                
                            </div>
                        </div>


                        <div class="grupoTitulo">3. ACUMULACIÓN DE ALERTAS</div>    
                        <div class="grupoCampos">
                            
                            <div class="registroCampo" >
                                <div class="registroTitulo" >3.1 Alerta acumulativa</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.acumular" name="detalle.acumular" (selectionChange)=cambiando($event)>
                                        <mat-option value="S">SI</mat-option>
                                        <mat-option value="N">No</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Si la alerta es acumulativa, el sistema esperará a que se alcancen las veces indicadas para generar la alarma</span>    
                            </div>
                            <div [ngClass]="{ registroCampo: !error04, registroCampo_i: error04 }" [ngStyle]="{'color': detalle.acumular == 'S' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.acumular == 'S' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">3.2 Veces que se acumulará la alerta</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtT2 type="number" min="0" max="99999" [(ngModel)]="detalle.acumular_veces" maxlength="6" autocomplete="off" name="detalle.acumular_veces" #acumular_veces="ngModel" (input)="cambiando($event)" [disabled]="detalle.acumular!='S'">
                                    <mat-hint [ngClass]="{ pista: !error04, pistaError: error04, pistaI: detalle.acumular != 'S'  }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indica el número de veces que se repetirá la alerta para generar la alarma</span>                                 
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': detalle.acumular == 'S' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.acumular == 'S' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">3.3 Tiempo de acumulación</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtTiempo type="number" [(ngModel)]="detalle.acumular_tiempo" maxlength="8" autocomplete="off" name="detalle.acumular_tiempo" #acumular_tiempo="ngModel" (input)="cambiando($event)"  [disabled]="detalle.acumular!='S'">
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indica el tiempo de espera para la acumulación</span>                                 
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': detalle.acumular == 'S' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.acumular == 'S' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo" >3.4 Reiniciar acumulados</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.acumular_inicializar" name="detalle.acumular_inicializar" (selectionChange)=cambiando($event) [disabled]="detalle.acumular!='S'">
                                        <mat-option value="S">SI</mat-option>
                                        <mat-option value="N">No</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Si no reinicia el acumulado, una vez generada la alarma se repetirá por cada alerta</span>    
                            </div>
                        </div>
                        <div class="grupoTitulo">4. REPETICION DE LA ALARMA</div>    
                        <div class="grupoCampos">
                        
                            <div class="registroCampo">
                                <div class="registroTitulo" >4.1 Repeticiones de la alarma</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.repetir" name="detalle.repetir" (selectionChange)=cambiando($event)>
                                        <mat-option value="N">No repetir</mat-option>
                                        <mat-option value="S">Repetir hasta que se resuelva</mat-option>
                                        <mat-option value="T">Repetir hasta que se escale</mat-option>
                                    </mat-select>                                
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique si la aplicación debe repetir la alarma una vez generada</span>      
                            </div>

                            <div [ngClass]="{ registroCampo: !error05, registroCampo_i: error05 }" [ngStyle]="{'color': detalle.repetir != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.repetir != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">4.2 Tiempo de espera para la repetición</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtT3 type="number" [(ngModel)]="detalle.repetir_tiempo" maxlength="8" autocomplete="off" name="detalle.repetir_tiempo" #repetir_tiempo="ngModel" (input)="cambiando($event)" [disabled]="detalle.repetir=='N'">
                                    <mat-hint [ngClass]="{ pista: detalle.repetir != 'N', pistaI: detalle.repetir == 'N'  }" align="end">Expresado en segundos</mat-hint>
                                    <mat-hint [ngClass]="{ pista: !error05, pistaError: error05, pistaI: detalle.repetir == 'N'  }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indique el tiempo a esperar por repetición</span>                                 
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': detalle.repetir != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.repetir != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">4.3 Limitar las repeticiones</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtTiempo type="number" [(ngModel)]="detalle.repetir_veces" min="0" max="9999" maxlength="4" autocomplete="off" name="detalle.repetir_veces" #repetir_veces="ngModel" (input)="cambiando($event)" [disabled]="detalle.repetir=='N'">
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indique el número máximo de repeticiones (0=Sin límite de repeticiones)</span>                                 
                            </div>
                        </div>
                        <div class="grupoTitulo">5. PRIMER ESCALAMIENTO</div>    
                        <div class="grupoCampos">
                        
                            
                            <div class="registroCampo">
                                <div class="registroTitulo" >5.1 Escalar (primer escalamiento)</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.escalar1" name="detalle.escalar1" (selectionChange)=cambiando($event)>
                                        <mat-option value="N">No escalar</mat-option>
                                        <mat-option value="S">Escalar sin notificar</mat-option>
                                        <mat-option value="T">Escalar notificando a los niveles previos</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique si la alarma se escala a un primer nivel</span>    
                            </div>

                            <div [ngClass]="{ registroCampo: !error06, registroCampo_i: error06 }" [ngStyle]="{'color': detalle.escalar1 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.escalar1 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">5.2 Tiempo de espera para el escalamiento</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtT4 type="number" [(ngModel)]="detalle.tiempo1" maxlength="8" autocomplete="off" name="detalle.tiempo1" #tiempo1="ngModel" (input)="cambiando($event)" [disabled]="detalle.escalar1=='N'">
                                    <mat-hint [ngClass]="{ pista: detalle.escalar1 != 'N', pistaI: detalle.escalar1 == 'N'  }" align="end">Expresado en segundos</mat-hint>
                                    <mat-hint [ngClass]="{ pista: !error06, pistaError: error06, pistaI: detalle.escalar1 =='N'  }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indique el tiempo a esperar desde la activación de la alarma</span>                                 
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': detalle.escalar1 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.escalar1 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">5.3 Canal de comunicación</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC1 multiple [(value)]="seleccionescalar1" name="seleccionescalar1" (selectionChange)=cambiando($event) [disabled]="detalle.escalar1=='N'">
                                        <mat-option value="C">Por correo electrónico</mat-option>
                                        <mat-option value="M">Por mensaje de MMCall</mat-option>
                                        <mat-option value="L">Por llamadas telefónica</mat-option>
                                        <mat-option value="S">Por mensaje de texto</mat-option>
                                        <mat-option value="G">Crear log</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="error21" class="pistaError" align="start">Marque al menos un canal</mat-hint>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Seleccione el canal o canales por dónde se emitirá el mensaje</span>      
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': detalle.escalar1 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.escalar1 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">5.4 Recipiente asociado</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC11 [(ngModel)]="detalle.lista1" name="detalle.lista1" (selectionChange)=cambiando($event) [disabled]="detalle.escalar1=='N'">
                                        <mat-option *ngFor="let lista of listas; let i = index" [value]="lista.id">{{ lista.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="error31" class="pistaError" align="start">Seleccione un recipiente válido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Indique el recipiente asociado a esta alarma</span>       
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': detalle.escalar1 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.escalar1 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo" >5.5 Repeticiones de la alarma</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.repetir1" name="detalle.repetir1" (selectionChange)=cambiando($event) [disabled]="detalle.escalar1=='N'">
                                        <mat-option value="N">No repetir</mat-option>
                                        <mat-option value="S">Repetir hasta que se resuelva</mat-option>
                                    </mat-select>
                                    <span class="ayudaCampo_2">Indique si la aplicación debe repetir la alarma una vez escalada</span>      
                                </mat-form-field>
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': detalle.escalar1 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.escalar1 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">5.6 Limitar las repeticiones</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtTiempo type="number" [(ngModel)]="detalle.veces1" maxlength="4" autocomplete="off" name="detalle.veces1" #veces1="ngModel" (input)="cambiando($event)" [disabled]="detalle.escalar1=='N'">
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indique el número máximo de repeticiones (0=Sin límite de repeticiones)</span>                                 
                            </div>
                        </div>
                        <div class="grupoTitulo">6. SEGUNDO ESCALAMIENTO</div>    
                        <div class="grupoCampos">
                            <div class="registroCampo" [ngStyle]="{'color': detalle.escalar1 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.escalar1 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo" >6.1 Escalar (segundo escalamiento)</div>    
                                <mat-form-field class="texto">
                                    <mat-select #esc2 [(value)]="detalle.escalar2" name="detalle.escalar2" (selectionChange)=cambiando($event) [disabled]="detalle.escalar1=='N'">
                                        <mat-option value="N">No escalar</mat-option>
                                        <mat-option value="S">Escalar sin notificar</mat-option>
                                        <mat-option value="T">Escalar notificando a los niveles previos</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique si la alarma se escala a un segundo nivel</span>   
                            </div>

                            <div [ngClass]="{ registroCampo: !error07, registroCampo_i: error07 }" [ngStyle]="{'color': !esc2.disabled && detalle.escalar2 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc2.disabled && detalle.escalar2 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">6.2 Tiempo de espera para el escalamiento</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtT5 type="number" [(ngModel)]="detalle.tiempo2" maxlength="8" autocomplete="off" name="detalle.tiempo2" #tiempo2="ngModel" (input)="cambiando($event)" [disabled]="esc2.disabled || detalle.escalar2=='N'">
                                    <mat-hint [ngClass]="{ pista: !esc2.disabled && detalle.escalar2 != 'N', pistaI: esc2.disabled || detalle.escalar2 == 'N'  }" align="end">Expresado en segundos</mat-hint>
                                    <mat-hint [ngClass]="{ pista: !error07, pistaError: error07, pistaI: esc2.disabled || detalle.escalar2 =='N'  }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indique el tiempo a esperar desde la activación de la alarma</span>                                 
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc2.disabled && detalle.escalar2 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc2.disabled && detalle.escalar2 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">6.3 Canal de comunicación</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC2 multiple [(value)]="seleccionescalar2" name="seleccionescalar2" (selectionChange)=cambiando($event) [disabled]="esc2.disabled || detalle.escalar2=='N'">
                                        <mat-option value="C">Por correo electrónico</mat-option>
                                        <mat-option value="M">Por mensaje de MMCall</mat-option>
                                        <mat-option value="L">Por llamadas telefónica</mat-option>
                                        <mat-option value="S">Por mensaje de texto</mat-option>
                                        <mat-option value="G">Crear log</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="error22" class="pistaError" align="start">Marque al menos un canal</mat-hint>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Seleccione el canal o canales por dónde se emitirá el mensaje</span>      
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc2.disabled && detalle.escalar2 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc2.disabled && detalle.escalar2 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">6.4 Recipiente asociado</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC12 [(ngModel)]="detalle.lista2" name="detalle.lista2" (selectionChange)=cambiando($event) [disabled]="esc2.disabled || detalle.escalar2=='N'">
                                        <mat-option *ngFor="let lista of listas; let i = index" [value]="lista.id">{{ lista.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="error32" class="pistaError" align="start">Seleccione un recipiente válido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Indique el recipiente asociado a esta alarma</span>       
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc2.disabled && detalle.escalar2 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc2.disabled && detalle.escalar2 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo" >6.5 Repeticiones de la alarma</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.repetir2" name="detalle.repetir2" (selectionChange)=cambiando($event) [disabled]="esc2.disabled || detalle.escalar2=='N'">
                                        <mat-option value="N">No repetir</mat-option>
                                        <mat-option value="S">Repetir hasta que se resuelva</mat-option>
                                    </mat-select>
                                    <span class="ayudaCampo_2">Indique si la aplicación debe repetir la alarma una vez escalada</span>      
                                </mat-form-field>
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc2.disabled && detalle.escalar2 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc2.disabled && detalle.escalar2 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">6.6 Limitar las repeticiones</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtTiempo type="number" [(ngModel)]="detalle.veces2" maxlength="4" autocomplete="off" name="detalle.veces2" #veces2="ngModel" (input)="cambiando($event)" [disabled]="esc2.disabled || detalle.escalar2=='N'">
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indique el número máximo de repeticiones (0=Sin límite de repeticiones)</span>                                 
                            </div>
                        </div>
                        <div class="grupoTitulo">7. TERCER ESCALAMIENTO</div>    
                        <div class="grupoCampos">
                        
                            <div class="registroCampo" [ngStyle]="{'color': !esc2.disabled && detalle.escalar2!='N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc2.disabled && detalle.escalar2!='N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo" >7.1. Escalar (tercer escalamiento)</div>    
                                <mat-form-field class="texto">
                                    <mat-select #esc3 [(value)]="detalle.escalar3" name="detalle.escalar3" (selectionChange)=cambiando($event) [disabled]="esc2.disabled || detalle.escalar2=='N'">
                                        <mat-option value="N">No escalar</mat-option>
                                        <mat-option value="S">Escalar sin notificar</mat-option>
                                        <mat-option value="T">Escalar notificando a los niveles previos</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique si la alarma se escala a un tercer nivel</span>    
                            </div>

                            <div [ngClass]="{ registroCampo: !error08, registroCampo_i: error08 }" [ngStyle]="{'color': !esc3.disabled && detalle.escalar3 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc3.disabled && detalle.escalar3 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">7.2 Tiempo de espera para el escalamiento</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtT6 type="number" [(ngModel)]="detalle.tiempo3" maxlength="8" autocomplete="off" name="detalle.tiempo3" #tiempo3="ngModel" (input)="cambiando($event)"  [disabled]="esc3.disabled || detalle.escalar3=='N'">
                                    <mat-hint [ngClass]="{ pista: !esc3.disabled && detalle.escalar3 != 'N', pistaI: esc3.disabled || detalle.escalar3 == 'N'  }" align="end">Expresado en segundos</mat-hint>
                                    <mat-hint [ngClass]="{ pista: !error08, pistaError: error08, pistaI: esc3.disabled || detalle.escalar3 =='N'  }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indique el tiempo a esperar desde la activación de la alarma</span>                                 
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc3.disabled && detalle.escalar3 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc3.disabled && detalle.escalar3 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">7.3 Canal de comunicación</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC3 multiple [(value)]="seleccionescalar3" name="seleccionescalar3" (selectionChange)=cambiando($event)  [disabled]="esc3.disabled || detalle.escalar3=='N'">
                                        <mat-option value="C">Por correo electrónico</mat-option>
                                        <mat-option value="M">Por mensaje de MMCall</mat-option>
                                        <mat-option value="L">Por llamadas telefónica</mat-option>
                                        <mat-option value="S">Por mensaje de texto</mat-option>
                                        <mat-option value="G">Crear log</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="error23" class="pistaError" align="start">Marque al menos un canal</mat-hint>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Seleccione el canal o canales por dónde se emitirá el mensaje</span>      
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc3.disabled && detalle.escalar3 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc3.disabled && detalle.escalar3 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">7.4 Recipiente asociado</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC13 [(ngModel)]="detalle.lista3" name="detalle.lista3" (selectionChange)=cambiando($event)  [disabled]="esc3.disabled || detalle.escalar3=='N'">
                                        <mat-option *ngFor="let lista of listas; let i = index" [value]="lista.id">{{ lista.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="error33" class="pistaError" align="start">Seleccione un recipiente válido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Indique el recipiente asociado a esta alarma</span>       
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc3.disabled && detalle.escalar3 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc3.disabled && detalle.escalar3 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo" >7.5 Repeticiones de la alarma</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.repetir3" name="detalle.repetir3" (selectionChange)=cambiando($event) [disabled]="esc3.disabled || detalle.escalar3=='N'">
                                        <mat-option value="N">No repetir</mat-option>
                                        <mat-option value="S">Repetir hasta que se resuelva</mat-option>
                                    </mat-select>
                                    <span class="ayudaCampo_2">Indique si la aplicación debe repetir la alarma una vez escalada</span>      
                                </mat-form-field>
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc3.disabled && detalle.escalar3 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc3.disabled && detalle.escalar3 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">7.6 Limitar las repeticiones</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtTiempo type="number" [(ngModel)]="detalle.veces3" maxlength="4" autocomplete="off" name="detalle.veces3" #veces3="ngModel" (input)="cambiando($event)"  [disabled]="esc3.disabled || detalle.escalar3=='N'">
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indique el número máximo de repeticiones (0=Sin límite de repeticiones)</span>                                 
                            </div>
                        </div>
                        <div class="grupoTitulo">9. CUARTO ESCALAMIENTO</div>    
                        <div class="grupoCampos">
                        
                            <div class="registroCampo" [ngStyle]="{'color': !esc3.disabled && detalle.escalar3!='N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc3.disabled && detalle.escalar3!='N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo" >8.1 Escalar (cuarto escalamiento)</div>    
                                <mat-form-field class="texto">
                                    <mat-select #esc4 [(value)]="detalle.escalar4" name="detalle.escalar4" (selectionChange)=cambiando($event) [disabled]="esc3.disabled || detalle.escalar3=='N'">
                                        <mat-option value="N">No escalar</mat-option>
                                        <mat-option value="S">Escalar sin notificar</mat-option>
                                        <mat-option value="T">Escalar notificando a los niveles previos</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique si la alarma se escala a un cuarto nivel</span>    
                            </div>

                            <div [ngClass]="{ registroCampo: !error09, registroCampo_i: error09 }" [ngStyle]="{'color': !esc4.disabled && detalle.escalar4 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc4.disabled && detalle.escalar4 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">8.2 Tiempo de espera para el escalamiento</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtT7 type="number" [(ngModel)]="detalle.tiempo4" maxlength="8" autocomplete="off" name="detalle.tiempo4" #tiempo4="ngModel" (input)="cambiando($event)" [disabled]="esc4.disabled || detalle.escalar4=='N'">
                                    <mat-hint [ngClass]="{ pista: !esc4.disabled && detalle.escalar4 != 'N', pistaI: esc4.disabled || detalle.escalar4 == 'N'  }" align="end">Expresado en segundos</mat-hint>
                                    <mat-hint [ngClass]="{ pista: !error09, pistaError: error09, pistaI: esc4.disabled || detalle.escalar4 =='N'  }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indique el tiempo a esperar desde la activación de la alarma</span>                                 
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc4.disabled && detalle.escalar4 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc4.disabled && detalle.escalar4 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">8.3. Canal de comunicación</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC4 multiple [(value)]="seleccionescalar4" name="seleccionescalar4" (selectionChange)=cambiando($event) [disabled]="esc4.disabled || detalle.escalar4=='N'">
                                        <mat-option value="C">Por correo electrónico</mat-option>
                                        <mat-option value="M">Por mensaje de MMCall</mat-option>
                                        <mat-option value="L">Por llamadas telefónica</mat-option>
                                        <mat-option value="S">Por mensaje de texto</mat-option>
                                        <mat-option value="G">Crear log</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="error24" class="pistaError" align="start">Marque al menos un canal</mat-hint>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Seleccione el canal o canales por dónde se emitirá el mensaje</span>      
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc4.disabled && detalle.escalar4 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc4.disabled && detalle.escalar4 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">8.4 Recipiente asociado</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC14 [(ngModel)]="detalle.lista4" name="detalle.lista4" (selectionChange)=cambiando($event) [disabled]="esc4.disabled || detalle.escalar4=='N'">
                                        <mat-option *ngFor="let lista of listas; let i = index" [value]="lista.id">{{ lista.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="error34" class="pistaError" align="start">Seleccione un recipiente válido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Indique el recipiente asociado a esta alarma</span>       
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc4.disabled && detalle.escalar4 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc4.disabled && detalle.escalar4 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo" >8.5 Repeticiones de la alarma</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.repetir4" name="detalle.repetir4" (selectionChange)=cambiando($event) [disabled]="esc4.disabled || detalle.escalar4=='N'">
                                        <mat-option value="N">No repetir</mat-option>
                                        <mat-option value="S">Repetir hasta que se resuelva</mat-option>
                                    </mat-select>
                                    <span class="ayudaCampo_2">Indique si la aplicación debe repetir la alarma una vez escalada</span>      
                                </mat-form-field>
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc4.disabled && detalle.escalar4 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc4.disabled && detalle.escalar4 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">8.6 Limitar las repeticiones</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtTiempo type="number" [(ngModel)]="detalle.veces4" maxlength="4" autocomplete="off" name="detalle.veces4" #veces4="ngModel" (input)="cambiando($event)" [disabled]="esc4.disabled || detalle.escalar4=='N'">
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indique el número máximo de repeticiones (0=Sin límite de repeticiones)</span>                                 
                            </div>

                        </div>
                        <div class="grupoTitulo">10. QUINTO Y ULTIMO ESCALAMIENTO</div>    
                        <div class="grupoCampos">
                        
                            <div class="registroCampo" [ngStyle]="{'color': !esc4.disabled && detalle.escalar4!='N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc4.disabled && detalle.escalar4!='N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo" >10.1 Escalar (quinto y último escalamiento)</div>    
                                <mat-form-field class="texto">
                                    <mat-select #esc5 [(value)]="detalle.escalar5" name="detalle.escalar5" (selectionChange)=cambiando($event) [disabled]="esc4.disabled || detalle.escalar4=='N'">
                                        <mat-option value="N">No escalar</mat-option>
                                        <mat-option value="S">Escalar sin notificar</mat-option>
                                        <mat-option value="T">Escalar notificando a los niveles previos</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Indique si la alarma se escala a un quinto nivel</span>    
                            </div>

                            <div [ngClass]="{ registroCampo: !error10, registroCampo_i: error10 }" [ngStyle]="{'color': !esc5.disabled && detalle.escalar5 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc5.disabled && detalle.escalar5 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">10.2 Tiempo de espera para el escalamiento</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtT8 type="number" [(ngModel)]="detalle.tiempo5" maxlength="8" autocomplete="off" name="detalle.tiempo5" #tiempo5="ngModel" (input)="cambiando($event)" [disabled]="esc5.disabled || detalle.escalar5=='N'">
                                    <mat-hint [ngClass]="{ pista: !esc5.disabled && detalle.escalar5 != 'N', pistaI: esc5.disabled || detalle.escalar5 == 'N'  }" align="end">Expresado en segundos</mat-hint>
                                    <mat-hint [ngClass]="{ pista: !error10, pistaError: error10, pistaI: esc5.disabled || detalle.escalar5 =='N'  }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indique el tiempo a esperar desde la activación de la alarma</span>                                 

                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc5.disabled && detalle.escalar5 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc5.disabled && detalle.escalar5 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">10.3 Canal de comunicación</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC5 multiple [(value)]="seleccionescalar5" name="seleccionescalar5" (selectionChange)=cambiando($event) [disabled]="esc5.disabled || detalle.escalar5=='N'">
                                        <mat-option value="C">Por correo electrónico</mat-option>
                                        <mat-option value="M">Por mensaje de MMCall</mat-option>
                                        <mat-option value="L">Por llamadas telefónica</mat-option>
                                        <mat-option value="S">Por mensaje de texto</mat-option>
                                        <mat-option value="G">Crear log</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="error25" class="pistaError" align="start">Marque al menos un canal</mat-hint>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Seleccione el canal o canales por dónde se emitirá el mensaje</span>      
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc5.disabled && detalle.escalar5 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc5.disabled && detalle.escalar5 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">10.4 Recipiente asociado</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC15 [(ngModel)]="detalle.lista5" name="detalle.lista5" (selectionChange)=cambiando($event) [disabled]="esc5.disabled || detalle.escalar5=='N'">
                                        <mat-option *ngFor="let lista of listas; let i = index" [value]="lista.id">{{ lista.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="error35" class="pistaError" align="start">Seleccione un recipiente válido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Indique el recipiente asociado a esta alarma</span>       
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc5.disabled && detalle.escalar5 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc5.disabled && detalle.escalar5 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo" >10.5 Repeticiones de la alarma</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.repetir5" name="detalle.repetir5" (selectionChange)=cambiando($event) [disabled]="esc5.disabled || detalle.escalar5=='N'">
                                        <mat-option value="N">No repetir</mat-option>
                                        <mat-option value="S">Repetir hasta que se resuelva</mat-option>
                                    </mat-select>
                                    <span class="ayudaCampo_2">Indique si la aplicación debe repetir la alarma una vez escalada</span>      
                                </mat-form-field>
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': !esc5.disabled && detalle.escalar5 != 'N' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': !esc5.disabled && detalle.escalar5 != 'N' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">10.6 Limitar las repeticiones</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtTiempo type="number" [(ngModel)]="detalle.veces5" maxlength="5" autocomplete="off" name="detalle.veces5" #veces5="ngModel" (input)="cambiando($event)" [disabled]="esc5.disabled || detalle.escalar5=='N'">
                                </mat-form-field>  
                                <span class="ayudaCampo_2">Indique el número máximo de repeticiones (0=Sin límite de repeticiones)</span>                                 
                            </div>
                        </div>
                        <div class="grupoTitulo">11. INFORMAR RESOLUCION/CANCELACIÓN DE LA ALARMA</div>    
                        <div class="grupoCampos">
                        
                            <div class="registroCampo">
                                <div class="registroTitulo" >11.1 Activar el informe de resolución de alarmas</div>    
                                <mat-form-field class="texto">
                                    <mat-select [(value)]="detalle.informar_resolucion" name="detalle.informar_resolucion" (selectionChange)=cambiando($event)>
                                        <mat-option value="S">SI</mat-option>
                                        <mat-option value="N">No informar</mat-option>
                                    </mat-select>
                                    <span class="ayudaCampo_2">La aplicación notificará a los involucrados cuando la alarma finalice</span>      
                                </mat-form-field>
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': detalle.informar_resolucion == 'S' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.informar_resolucion == 'S' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">11.2 Mensaje de resolución</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="3" [(ngModel)]="detalle.resolucion_mensaje" maxlength="200" autocomplete="off" name="detalle.resolucion_mensaje" #resolucion_mensaje="ngModel" (input)="cambiando($event)" [disabled]="detalle.informar_resolucion == 'N'"></textarea>
                                    <button mat-button *ngIf="detalle.resolucion_mensaje" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.resolucion_mensaje = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint [ngClass]="{pista: detalle.informar_resolucion == 'S', pistaI: detalle.informar_resolucion == 'N'}" align="end">{{ resolucion_mensaje.value?.length || 0 }} de 200</mat-hint>
                                    <mat-hint [ngClass]="{pista: detalle.informar_resolucion == 'S', pistaI: detalle.informar_resolucion == 'N'}" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Mensaje a enviar cuando la alarma finalice</span>    
                                
                            </div>

                            <div class="registroCampo" [ngStyle]="{'color': detalle.informar_resolucion == 'S' ? 'var(--texto_boton)' : 'var(--texto_boton_inactivo)', 'border-color': detalle.informar_resolucion == 'S' ? 'var(--borde_tarjeta)' : 'var(--texto_boton_inactivo)'}">
                                <div class="registroTitulo">11.3 Mensaje de cancelación</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="3" [(ngModel)]="detalle.cancelacion_mensaje" maxlength="200" autocomplete="off" name="detalle.cancelacion_mensaje" #cancelacion_mensaje="ngModel" (input)="cambiando($event)" [disabled]="detalle.informar_resolucion == 'N'"></textarea>
                                    <button mat-button *ngIf="detalle.cancelacion_mensaje" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.cancelacion_mensaje = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint [ngClass]="{pista: detalle.informar_resolucion == 'S', pistaI: detalle.informar_resolucion == 'N'}" align="end">{{ cancelacion_mensaje.value?.length || 0 }} de 200</mat-hint>
                                    <mat-hint [ngClass]="{pista: detalle.informar_resolucion == 'S', pistaI: detalle.informar_resolucion == 'N'}" align="start">Campo opcional</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Mensaje a enviar cuando la alarma se cancela</span>    
                                
                            </div>
                        </div>
                        <div class="grupoCampos">
                            
                            <div class="registroCampoST" *ngIf="detalle.creacion">
                                <div class="registroTituloST">{{ titulos[7] }}</div>    
                                <div class="registroValorDetalleST">{{ detalle.creacion | date:'dd-MMM-yyyy HH:mm:ss' }}</div>    
                            </div>
                            <div class="registroCampoST" *ngIf="detalle.modificacion">
                                <div class="registroTituloST" >{{ titulos[8] }}</div>    
                                <div class="registroValorDetalleST">{{ detalle.modificacion | date:'dd-MMM-yyyy HH:mm:ss' }}</div>    
                            </div>
                            <div class="registroCampoST" *ngIf="detalle.creado">
                                <div class="registroTituloST">{{ titulos[9] }}</div>    
                                <div class="registroValorDetalleST">{{ detalle.ucreo }}</div>    
                            </div>
                            <div class="registroCampoST" *ngIf="detalle.modificado">
                                <div class="registroTituloST">{{ titulos[10] }}</div>    
                                <div class="registroValorDetalleST">{{ detalle.ucambio }}</div>    
                            </div>
                            <div class="registroCampoST" *ngIf="detalle.id > 0">
                                <div class="registroTituloST">{{ titulos[11] }}</div>    
                                <div class="registroValorDetalleST">{{ detalle.id }}</div>    
                            </div>
                        </div>
                    </div>
                </div>


                <div class="registroCaja" *ngIf="miSeleccion==10">
                    <div class="alertaCaja" *ngIf="faltaMensaje" >
                        <mat-icon class="iconPB_4" svgIcon="i_alerta"></mat-icon>
                        <span class="alertaMensaje" [innerHTML]="faltaMensaje"></span>
                    </div>
                    <div class="registroGeneral">
                    <div class="grupoCampos">

                            <div [ngClass]="{ registroCampo: !error01, registroCampo_i: error01 }">
                                <div class="registroTitulo">1. Literal a traducir</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="3" #txtNombre [(ngModel)]="detalle.literal" maxlength="100" autocomplete="off" name="detalle.literal" #literal="ngModel" (input)="cambiando($event)"></textarea>
                                    <button mat-button *ngIf="detalle.literal" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.literal = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ literal.value?.length || 0 }} de 100</mat-hint>
                                    <mat-hint [ngClass]="{ pista: !error01, pistaError: error01 }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Literal a traducir (aplica sólo para audios)</span>       
                            </div>

                            <div [ngClass]="{ registroCampo: !error02, registroCampo_i: error02 }">
                                <div class="registroTitulo">2. Traducción</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="3" #txtTelefonos [(ngModel)]="detalle.traduccion" maxlength="100" autocomplete="off" name="detalle.traduccion" #traduccion="ngModel" (input)="cambiando($event)"></textarea>
                                    <button mat-button *ngIf="detalle.traduccion" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.traduccion = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ traduccion.value?.length || 0 }} de 100</mat-hint>
                                    <mat-hint [ngClass]="{ pista: !error02, pistaError: error02 }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Especifique el resultado de la traducción</span>       
                            </div>
                        </div>
                    </div>
                </div>

                <div class="registroCaja" *ngIf="miSeleccion==11">
                <div class="alertaCaja" *ngIf="faltaMensaje" >
                    <mat-icon class="iconPB_4" svgIcon="i_alerta"></mat-icon>
                    <span class="alertaMensaje" [innerHTML]="faltaMensaje"></span>
                </div>
                <div class="registroGeneral">
                <div class="grupoCampos">

                    <div class="registroCampo">
                        <div class="registroTitulo">1. Lugar de origen</div>    
                        <mat-form-field class="cajaTexto_2">
                            <mat-select #lstC0 [(ngModel)]="detalle.origen" name="detalle.origen" (selectionChange)=cambiando($event)>
                                <mat-option *ngFor="let lote of lotes; let i = index" [value]="lote.id">{{ lote.nombre }}</mat-option>
                            </mat-select>
                            <mat-hint *ngIf="!error04" [ngClass]="{ pista: !error01, pistaError: error01 }" align="start">Campo requerido</mat-hint>
                            <mat-hint *ngIf="error04" class="pistaError" align="start">El lugar de origen debe ser diferente al destino</mat-hint>
                        </mat-form-field>                            
                        <span class="ayudaCampo_2">Especifique el lugar de origen de la ruta</span>       
                    </div>

                    <div class="registroCampo">
                        <div class="registroTitulo">2. Lugar de destino</div>    
                        <mat-form-field class="cajaTexto_2">
                            <mat-select #lstC1 [(ngModel)]="detalle.destino" name="detalle.destino" (selectionChange)=cambiando($event)>
                                <mat-option *ngFor="let lote of lotes; let i = index" [value]="lote.id">{{ lote.nombre }}</mat-option>
                            </mat-select>
                            <mat-hint [ngClass]="{ pista: !error02, pistaError: error02 }" align="start">Campo requerido</mat-hint>
                        </mat-form-field>                            
                        <span class="ayudaCampo_2">Especifique el lugar de destino de la ruta</span>       
                    </div>

                    <div class="registroCampo">
                        <div class="registroTitulo">3. Transporte</div>    
                        <mat-form-field class="cajaTexto_2">
                            <mat-select [(ngModel)]="detalle.transporte" name="detalle.transporte" (selectionChange)=cambiando($event)>
                                <mat-option *ngFor="let linea of lineas; let i = index" [value]="linea.id">{{ linea.nombre }}</mat-option>
                            </mat-select>
                        </mat-form-field>                            
                        <span class="ayudaCampo_2">Especifique el transporte asociado a la ruta</span>       
                    </div>

                    <div class="registroCampo">
                        <div class="registroTitulo">4. Tipo de vehículo</div>    
                        <mat-form-field class="cajaTexto_2">
                            <mat-select [(ngModel)]="detalle.tipo" name="detalle.tipo" (selectionChange)="cambiando($event)">
                                <mat-option *ngFor="let tipo of tipos; let i = index" [value]="tipo.id">{{ tipo.nombre }}</mat-option>
                            </mat-select>
                            
                        </mat-form-field>                            
                        <span class="ayudaCampo_2">Especifique el tipo de vehículo</span>       
                    </div>


                    <div class="registroCampo">
                        <div class="registroTitulo">5. Carga </div>    
                        <mat-form-field class="cajaTexto_2">
                            <mat-select [(ngModel)]="detalle.carga" name="detalle.carga" (selectionChange)="cambiando($event)">
                                <mat-option *ngFor="let carga of cargas; let i = index" [value]="carga.id">{{ carga.nombre }}</mat-option>
                            </mat-select>
                            
                        </mat-form-field>                            
                        <span class="ayudaCampo_2">Especifique la carga</span>       
                    </div>


                    <div class="registroCampo">
                        <div class="registroTitulo">6. Tiempo estimado</div>    
                        <mat-form-field class="cajaTexto_2">
                            <input matInput #txtT1 type="number" [(ngModel)]="detalle.tiempo" maxlength="10" autocomplete="off" name="detalle.tiempo" #tiempo="ngModel" (input)="cambiando($event)">
                            <span [ngClass]="{ gris: detalle.disponibilidad == 1, pistaI: detalle.disponibilidad == 0 }" matSuffix>{{ calcularHR(detalle.tiempo) }}</span>
                            <mat-hint [ngClass]="{ pista: !error03, pistaError: error03 }" align="start">Campo requerido</mat-hint>
                            <mat-hint class="pista" align="end">Expresado en segundos</mat-hint>
                        </mat-form-field>  
                        <span class="ayudaCampo_2">Tiempo de espera para que se active la alerta</span>                                 
                    </div> 

                    <div class="registroCampo">
                        <div class="registroTitulo" >7. Monitorear</div>    
                        <mat-form-field class="texto">
                            <mat-select [(value)]="detalle.monitorear" name="detalle.monitorear" (selectionChange)=cambiando($event)>
                                <mat-option value="S">SI</mat-option>
                                <mat-option value="N">No</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <span class="ayudaCampo_2">Indique si esta ruta se va a monitorear en las alertas del sistema</span>    
                    </div>

                    <div [ngClass]="{ registroCampo: detalle.estatus == 'A', registroCampo_i: detalle.estatus == 'I' }">
                        <div class="registroTitulo" >8. Estatus del registro</div>    
                        <mat-form-field class="texto">
                            <mat-select [(value)]="detalle.estatus" name="detalle.estatus" (selectionChange)=cambiando($event)>
                                <mat-option value="A">ACTIVO</mat-option>
                                <mat-option value="I">Inactivo</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <span class="ayudaCampo_2">Al inactivar el registro ya no estará disponible en el sistema</span>    
                    </div> 


                    <div class="registroCampoST" *ngIf="detalle.creacion">
                        <div class="registroTituloST">9 Fecha de creación</div>    
                        <div class="registroValorDetalleST">{{ detalle.creacion | date:'dd-MMM-yyyy HH:mm:ss' }}</div>    
                    </div>
                    <div class="registroCampoST" *ngIf="detalle.modificacion">
                        <div class="registroTituloST" >10. Fecha de la última actualización</div>    
                        <div class="registroValorDetalleST">{{ detalle.modificacion | date:'dd-MMM-yyyy HH:mm:ss' }}</div>    
                    </div>
                    <div class="registroCampoST" *ngIf="detalle.creado">
                        <div class="registroTituloST">11. Usuario que creó el registro</div>    
                        <div class="registroValorDetalleST">{{ detalle.ucreo }}</div>    
                    </div>
                    <div class="registroCampoST" *ngIf="detalle.modificado">
                        <div class="registroTituloST">12. Usuario que modificó el registro</div>    
                        <div class="registroValorDetalleST">{{ detalle.ucambio }}</div>    
                    </div>
                    <div class="registroCampoST" *ngIf="detalle.id > 0">
                        <div class="registroTituloST">13. ID del registro</div>    
                        <div class="registroValorDetalleST">{{ detalle.id }}</div>    
                    </div>
                </div>
            </div>

            </div>


            <div class="registroCaja" *ngIf="miSeleccion==17">
                <div class="alertaCaja" *ngIf="faltaMensaje" >
                    <mat-icon class="iconPB_4" svgIcon="i_alerta"></mat-icon>
                    <span class="alertaMensaje" [innerHTML]="faltaMensaje"></span>
                </div>
                <div class="registroGeneral">
                <div class="grupoCampos">

                    <div class="registroCampo">
                        <div class="registroTitulo">1. Lugar de la descarga</div>    
                        <mat-form-field class="cajaTexto_2">
                            <mat-select #lstC1 [(ngModel)]="detalle.destino" name="detalle.destino" (selectionChange)=cambiando($event)>
                                <mat-option *ngFor="let lote of lotes; let i = index" [value]="lote.id">{{ lote.nombre }}</mat-option>
                            </mat-select>
                            <mat-hint [ngClass]="{ pista: !error02, pistaError: error02 }" align="start">Campo requerido</mat-hint>
                        </mat-form-field>                            
                        <span class="ayudaCampo_2">Especifique el lugar de la descarga</span>       
                    </div>

                    <div class="registroCampo">
                        <div class="registroTitulo">2. Transporte</div>    
                        <mat-form-field class="cajaTexto_2">
                            <mat-select [(ngModel)]="detalle.transporte" name="detalle.transporte" (selectionChange)=cambiando($event)>
                                <mat-option *ngFor="let linea of lineas; let i = index" [value]="linea.id">{{ linea.nombre }}</mat-option>
                            </mat-select>
                        </mat-form-field>                            
                        <span class="ayudaCampo_2">Especifique el transporte asociado al estimado</span>       
                    </div>

                    <div class="registroCampo">
                        <div class="registroTitulo">3. Tipo de vehículo</div>    
                        <mat-form-field class="cajaTexto_2">
                            <mat-select [(ngModel)]="detalle.tipo" name="detalle.tipo" (selectionChange)="cambiando($event)">
                                <mat-option *ngFor="let tipo of tipos; let i = index" [value]="tipo.id">{{ tipo.nombre }}</mat-option>
                            </mat-select>
                            
                        </mat-form-field>                            
                        <span class="ayudaCampo_2">Especifique el tipo de vehículo</span>       
                    </div>


                    <div class="registroCampo">
                        <div class="registroTitulo">4. Carga </div>    
                        <mat-form-field class="cajaTexto_2">
                            <mat-select [(ngModel)]="detalle.carga" name="detalle.carga" (selectionChange)="cambiando($event)">
                                <mat-option *ngFor="let carga of cargas; let i = index" [value]="carga.id">{{ carga.nombre }}</mat-option>
                            </mat-select>
                            
                        </mat-form-field>                            
                        <span class="ayudaCampo_2">Especifique la carga</span>       
                    </div>


                    <div class="registroCampo">
                        <div class="registroTitulo">5. Tiempo estimado</div>    
                        <mat-form-field class="cajaTexto_2">
                            <input matInput #txtT1 type="number" [(ngModel)]="detalle.tiempo" maxlength="10" autocomplete="off" name="detalle.tiempo" #tiempo="ngModel" (input)="cambiando($event)">
                            <span [ngClass]="{ gris: detalle.disponibilidad == 1, pistaI: detalle.disponibilidad == 0 }" matSuffix>{{ calcularHR(detalle.tiempo) }}</span>
                            <mat-hint [ngClass]="{ pista: !error03, pistaError: error03 }" align="start">Campo requerido</mat-hint>
                            <mat-hint class="pista" align="end">Expresado en segundos</mat-hint>
                        </mat-form-field>  
                        <span class="ayudaCampo_2">Tiempo de espera para que se active la alerta</span>                                 
                    </div> 

                    <div class="registroCampo">
                        <div class="registroTitulo" >6. Monitorear</div>    
                        <mat-form-field class="texto">
                            <mat-select [(value)]="detalle.monitorear" name="detalle.monitorear" (selectionChange)=cambiando($event)>
                                <mat-option value="S">SI</mat-option>
                                <mat-option value="N">No</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <span class="ayudaCampo_2">Indique si esta ruta se va a monitorear en las alertas del sistema</span>    
                    </div>

                    <div [ngClass]="{ registroCampo: detalle.estatus == 'A', registroCampo_i: detalle.estatus == 'I' }">
                        <div class="registroTitulo" >7. Estatus del registro</div>    
                        <mat-form-field class="texto">
                            <mat-select [(value)]="detalle.estatus" name="detalle.estatus" (selectionChange)=cambiando($event)>
                                <mat-option value="A">ACTIVO</mat-option>
                                <mat-option value="I">Inactivo</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <span class="ayudaCampo_2">Al inactivar el registro ya no estará disponible en el sistema</span>    
                    </div> 


                    <div class="registroCampoST" *ngIf="detalle.creacion">
                        <div class="registroTituloST">8. Fecha de creación</div>    
                        <div class="registroValorDetalleST">{{ detalle.creacion | date:'dd-MMM-yyyy HH:mm:ss' }}</div>    
                    </div>
                    <div class="registroCampoST" *ngIf="detalle.modificacion">
                        <div class="registroTituloST" >9. Fecha de la última actualización</div>    
                        <div class="registroValorDetalleST">{{ detalle.modificacion | date:'dd-MMM-yyyy HH:mm:ss' }}</div>    
                    </div>
                    <div class="registroCampoST" *ngIf="detalle.creado">
                        <div class="registroTituloST">10. Usuario que creó el registro</div>    
                        <div class="registroValorDetalleST">{{ detalle.ucreo }}</div>    
                    </div>
                    <div class="registroCampoST" *ngIf="detalle.modificado">
                        <div class="registroTituloST">11. Usuario que modificó el registro</div>    
                        <div class="registroValorDetalleST">{{ detalle.ucambio }}</div>    
                    </div>
                    <div class="registroCampoST" *ngIf="detalle.id > 0">
                        <div class="registroTituloST">12. ID del registro</div>    
                        <div class="registroValorDetalleST">{{ detalle.id }}</div>    
                    </div>
                </div>
            </div>

            </div>



            <div class="dispositivos" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==4 && miSeleccion>=30" >
                <div class="registroCaja">
                    <div class="alertaCaja" *ngIf="faltaMensaje" >
                        <mat-icon class="iconPB_4" svgIcon="i_alerta"></mat-icon>
                        <span class="alertaMensaje" [innerHTML]="faltaMensaje"></span>
                    </div>
                    <div class="registroGeneral">
                        <div class="grupoTitulo" *ngIf="editandoD">CLASIFICACION DEL DISPOSITIVO</div>    
                        <div class="grupoCampos" *ngIf="editandoD">
                            <div [ngClass]="{ registroCampo: !error01, registroCampo_i: error01 }">
                                <div class="registroTitulo">1. Nombre del dispositivo</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtNombre [(ngModel)]="detalle.nombre" maxlength="30" autocomplete="off" name="detalle.nombre"  #nombre ="ngModel" (input)="cambiando($event);error01=false; " >
                                    <button mat-button *ngIf="detalle.nombre" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.nombre = '';cambiando();error01=true;">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ nombre.value?.length || 0 }} de 30</mat-hint>
                                    <mat-hint [ngClass]="{ pista: !error01, pistaError: error01 }" align="start">Campo requerido</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Asocie un nombre al dispositivo</span>       
                            </div>
                            <div class="registroCampo">
                                <div class="registroTitulo">2. Color representativo</div>    
                                <dx-color-box class="colores" [(value)]="detalle.color" applyButtonText="Aceptar" cancelButtonText="Cancelar" (click)="cambiando($event)" (input)="cambiando($event)">
                                </dx-color-box>
                                <span class="ayudaCampo_2">Especifique el color que representará el área</span>                                 
                            </div>
                            <div class="registroCampo">
                                <div class="registroTitulo">3. Área asociada al dispositivo</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.area" name="detalle.area" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let tabla of agrupadores2; let i = index" [value]="tabla.id">{{ tabla.nombre }}</mat-option>
                                    </mat-select>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Seleccione el área asociada al dispositivo</span>           
                            </div>
                        </div>

                        <div class="grupoTitulo" *ngIf="asignando">IDENTIFICACION DEL DISPOSITIVO {{ nombreBeeper }}</div>    
                        <div class="grupoCampos" *ngIf="asignando">

                            <div [ngClass]="{ registroCampo: !error31, registroCampo_i: error31 }" *ngIf="pagerActual==0 && configuracion.agregar_movil=='S'">
                                <div class="registroTitulo">1. Teléfono</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input type="text" #txtNombre matInput [(ngModel)]="detalle.referencia" maxlength="30" autocomplete="off" name="detalle.referencia" (input)="filtrando2(4, $event);cadReferencia=0 " [matAutocomplete]="auto3">
                                    <mat-autocomplete #auto3="matAutocomplete" (optionSelected)="buscarReferencia($event);cambiando($event);error02=false;">
                                        <mat-option *ngFor="let referencia of referenciasFiltradas" [value]="referencia.referencia">{{referencia.referencia}}</mat-option>
                                    </mat-autocomplete>
                                    <mat-hint [ngClass]=" { pistaVerde: cadReferencia<=1, pistaError: cadReferencia==2 }" align="start">{{ cadReferencia  == 0 ? '' : cadReferencia == 1 ? 'Teléfono hallado en la base de datos' : 'Teléfono NO encontrado...'}} </mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Espscifique el teléfono del chofer</span>       
                            </div>

                            <div [ngClass]="{ registroCampo: !error32, registroCampo_i: error32 }">
                                <div class="registroTitulo">{{ pagerActual==0 && configuracion.agregar_movil=='S' ? '2.' : '1.'}} Placas del vehículo</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input type="text" #txtT1 matInput [(ngModel)]="detalle.placa" maxlength="100" autocomplete="off" name="detalle.placa" (input)="filtrando2(1, $event);cadPlaca=0 " [matAutocomplete]="auto">
                                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="buscarPlaca($event);cambiando($event);error02=false;">
                                        <mat-option *ngFor="let placa of placasFiltradas" [value]="placa.nombre">{{placa.nombre}}</mat-option>
                                    </mat-autocomplete>
                                    <mat-hint [ngClass]=" { pistaVerde: cadPlaca<=1, pistaError: cadPlaca==2 }" align="start">{{ cadPlaca == 0 ? '' : cadPlaca == 1 ? 'Vehículo hallado en la base de datos' : 'Vehículo NO encontrado...'}} </mat-hint>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Especifique la placa del vehículo asociado al tacto</span>       
                            </div>

                            <div [ngClass]="{ registroCampo: !error33, registroCampo_i: error33 }">
                                <div class="registroTitulo">{{ pagerActual==0 && configuracion.agregar_movil=='S' ? '3.' : '2.' }} Nombre del chofer</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input type="text" #txtT2 matInput [(ngModel)]="detalle.chofer" maxlength="100" autocomplete="off" name="detalle.chofer" (input)="filtrando2(2, $event);cadChofer=0 " [matAutocomplete]="auto2">
                                    <mat-autocomplete #auto2="matAutocomplete" (optionSelected)="buscarChofer($event);cambiando($event);error03=false;">
                                        <mat-option *ngFor="let chofer of choferesFiltradas" [value]="chofer.nombre">{{chofer.nombre}}</mat-option>
                                    </mat-autocomplete>
                                    <mat-hint [ngClass]=" { pistaVerde: cadChofer<=1, pistaError: cadChofer==2 }" align="start">{{ cadChofer == 0 ? '' : cadChofer == 1 ? 'Chofer hallado en la base de datos' : cadChofer == 2 ? 'Chofer SUSPENDIDO' : 'Chofer NO encontrado...'}} </mat-hint>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Especifique o corrija el chofer asociado al vehículo</span>       
                            </div>

                            <div class="registroCampo" *ngIf="pagerActual!=0 && configuracion.agregar_movil=='S'">
                                <div class="registroTitulo">3. Teléfono</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input matInput #txtNombre [(ngModel)]="detalle.referencia" maxlength="30" autocomplete="off" name="detalle.referencia"  #referencia ="ngModel" (input)="cambiando($event) " >
                                    <button mat-button *ngIf="detalle.referencia" matSuffix mat-icon-button aria-label="Clear" (click)="detalle.referencia = '';cambiando();">
                                        <mat-icon class="iconPB" svgIcon="in_cerrar"></mat-icon>
                                    </button>
                                    <mat-hint class="pista" align="end">{{ referencia.value?.length || 0 }} de 30</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Teléfono del chofer</span>       
                            </div>


                            <div class="registroCampo" *ngIf="configuracion.agregar_transporte=='N'">
                                <div class="registroTitulo">{{ (configuracion.agregar_movil=='S' ? '4.' : '3.') }} Transporte</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.linea" name="detalle.linea" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let linea of lineas; let i = index" [value]="linea.id">{{ linea.nombre }}</mat-option>
                                    </mat-select>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Especifique o corrija el transporte asociado al vehículo</span>       
                            </div>
                           
                            <div class="registroCampo" *ngIf="configuracion.agregar_transporte=='S'">
                                <div class="registroTitulo">{{ (configuracion.agregar_movil=='S' ? '4.' : '3.') }} Transporte</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <input type="text" #txtT2 matInput [(ngModel)]="detalle.nlinea" maxlength="100" autocomplete="off" name="detalle.nlinea" (input)="filtrando2(3, $event);cadTransporte=0 " [matAutocomplete]="auto4">
                                    <mat-autocomplete #auto4="matAutocomplete" (optionSelected)="buscarTransporte($event);cambiando($event);error13=false;">
                                        <mat-option *ngFor="let linea of transportesFiltradas" [value]="linea.nombre">{{linea.nombre}}</mat-option>
                                    </mat-autocomplete>
                                    <mat-hint [ngClass]=" { pistaVerde: cadTransporte<=1, pistaError: cadTransporte==2 }" align="start">{{ cadTransporte == 0 ? '' : cadTransporte == 1 ? 'Transporte hallado en la base de datos' : 'Transporte NO encontrado...'}} </mat-hint>
                                </mat-form-field>
                                <span class="ayudaCampo_2">Especifique o corrija el transporte asociado al vehículo</span>       
                            </div>

                            <div class="registroCampo">
                                <div class="registroTitulo">{{ (configuracion.agregar_movil=='S' ? '5.' : '4.') }} Tipo de carga</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.carga" name="detalle.carga" (selectionChange)="cambiando($event)">
                                        <mat-option *ngFor="let carga of cargas; let i = index" [value]="carga.id">{{ carga.nombre }}</mat-option>
                                    </mat-select>
                                    
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Especifique la carga a transportar</span>       
                            </div>

                        </div>

                        <div class="grupoTitulo" *ngIf="transfiriendo">{{ (miseleccion == 32 || miSeleccion == 33) ? 'PRE-ASIGNACION DEL TACTO' : 'ESTABLECER RUTA' }}</div>    
                        <div class="grupoCampos" *ngIf="transfiriendo">                             
                            <div class="registroCampo_2" *ngIf="!asignando">
                                <div class="registroTitulo">Datos del dispositivo</div>    
                                <div class="valores" [innerHTML]="cadAsignando"></div>   
                            </div>
                            <div [ngClass]="{ registroCampo: !error01 && !error04, registroCampo_i: error01 || error04}">
                                <div class="registroTitulo">1. Lugar de origen</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC0 [(ngModel)]="detalle.origen" name="detalle.origen" (selectionChange)="cambiando($event);validarRutas3()">
                                        <mat-option *ngFor="let lote of lotes; let i = index" [value]="lote.id">{{ lote.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="!error04" [ngClass]="{ pista: !error01, pistaError: error01 }" align="start">Campo requerido</mat-hint>
                                    <mat-hint *ngIf="error04" class="pistaError" align="start">El lugar de origen debe ser diferente al destino</mat-hint>
                                    
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Especifique el lugar de origen del tacto</span>       
                            </div>

                            <div [ngClass]="{ registroCampo: !error02, registroCampo_i: error02 }">
                                <div class="registroTitulo">2. Lugar de destino</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC1 [(ngModel)]="detalle.destino" name="detalle.destino" (selectionChange)="cambiando($event);validarRutas3()">
                                        <mat-option *ngFor="let lote of lotes; let i = index" [value]="lote.id">{{ lote.nombre }}</mat-option>
                                    </mat-select>
                                    <mat-hint [ngClass]="{ pista: !error02, pistaError: error02 }" align="start">Campo requerido</mat-hint>
                                    <mat-hint [ngClass]="{ pistaVerde: tiempoRuta.length>0, pistaError: tiempoRuta.length==0 && detalle.destino>0 && detalle.origen>0, pista: detalle.destino==0 || detalle.origen==0 }" align="end">{{ detalle.destino==0 || detalle.origen==0 ? '' : tiempoRuta ? ('Estimado: ' + tiempoRuta) : 'No existe estimado' }}</mat-hint>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Especifique el lugar de destino del tacto</span>       
                            </div>

                            <div class="registroCampo" *ngIf="!asignando">
                                <div class="registroTitulo">3. Tipo de carga</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.carga" name="detalle.carga" (selectionChange)="cambiando($event)">
                                        <mat-option *ngFor="let carga of cargas; let i = index" [value]="carga.id">{{ carga.nombre }}</mat-option>
                                    </mat-select>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Especifique que tipo de carga trae el vehículo</span>       
                            </div>

            
                        </div>

                        <div class="grupoTitulo" *ngIf="asignando">DATOS DEL VEHÍCULO (CORRECCIÓN)</div>    
                        <div class="grupoCampos" *ngIf="asignando">
                            <div class="registroCampo">
                                <div class="registroTitulo">1. Tipo</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.tipo" name="detalle.tipo" (selectionChange)="cambiando($event)">
                                        <mat-option *ngFor="let tipo of tipos; let i = index" [value]="tipo.id">{{ tipo.nombre }}</mat-option>
                                    </mat-select>
                                    
                                </mat-form-field>                          
                                <span class="ayudaCampo_2">Especifique o corrija la marca del vehículo</span>       
                            </div>

                            <div class="registroCampo" *ngIf="configuracion.adicionales=='S'">
                                <div class="registroTitulo">2. Marca</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select #lstC0 [(ngModel)]="detalle.agrupador_1" name="detalle.agrupador_1" (selectionChange)=cambiando($event) (selectionChange)=buscarMarca(detalle.agrupador_1)>
                                        <mat-option *ngFor="let agrupador_1 of agrupadores1; let i = index" [value]="agrupador_1.id">{{ agrupador_1.nombre }}</mat-option>
                                    </mat-select>
                                </mat-form-field>                             
                                <span class="ayudaCampo_2">Especifique o corrija la marca del vehículo</span>       
                            </div>

                            <div class="registroCampo" *ngIf="configuracion.adicionales=='S'">
                                <div class="registroTitulo">3. Modelo</div>    
                                <mat-form-field class="cajaTexto_2">
                                    <mat-select [(ngModel)]="detalle.agrupador_2" name="detalle.agrupador_2" (selectionChange)=cambiando($event)>
                                        <mat-option *ngFor="let agrupador_2 of agrupadores2; let i = index" [value]="agrupador_2.id">{{ agrupador_2.nombre }}</mat-option>
                                    </mat-select>
                                </mat-form-field>                            
                                <span class="ayudaCampo_2">Especifique o corrija el modelo del vehículo</span>       
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <div class="tabla" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==9 && !movil">
            <div class="ayudaCampo" *ngIf="historias.length==0 && verSR">No hay tactos para este dispositivo</div>
            <div class="tablaItems_b">
                <button class="boton_2 regreso6" [@.disabled]="!animando" @esquema_del (@esquema_del.start)="mostrar(0)" (@esquema_del.done)="mostrar(1)"  *ngFor="let historia of historias; let i = index" (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{tarAlarmada_20: (historia.idest == 9 || historia.alarmado=='S' || historia.des_alarmado=='S') , botHover: arreHover[i] }">
                    <div class="tablaDet_20">
                        <div class="col00">
                            <mat-icon class="iconPB_7" [svgIcon]="historia.icono"></mat-icon>
                        </div>
                        <div class="col01">{{ historia.viaje }}</div>                        
                        <div class="col03_i">{{ historia.nombre }}</div>
                        <div class="col02">{{ historia.dOrigen }}</div>
                        <div class="col02">{{ historia.dDestino }}</div>
                        <div class="col03_i">{{ historia.inicio | date:'dd/MM HH:mm' }}</div>
                        <div class="col03_i">{{ historia.fin ? (historia.fin | date:'dd/MM HH:mm') : 'Pendiente' }}</div>
                        <div class="col03" [ngClass]="{ timeColor: historia.idest==0, timeColorRojo: historia.alarmado=='S' }"><mat-icon class="iconPB_f" svgIcon="i_alertas" *ngIf="historia.alarmado=='S'"></mat-icon>{{ historia.idest==0 ? arreTiempos2[i] : historia.tiempo }}</div>
                        <div class="col03" [ngClass]="{ timeColor: historia.idest==1, timeColorRojo: historia.des_alarmado=='S' }"><mat-icon class="iconPB_f" svgIcon="i_alertas" *ngIf="historia.des_alarmado=='S'"></mat-icon>{{ historia.idest==0 ? '---' : historia.idest==1 ? arreTiempos3[i] : historia.des_tiempo }}</div>
                        <div class="col03_i" [ngClass]="{ miEstatus_i2: historia.idest==9 }">{{ historia.estatus }}</div>   

          
                    </div> 
                </button>   
            </div>                
        </div>

        
        <div class="tabla" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==5 && !movil">
            <div class="ayudaCampo" *ngIf="historias.length==0 && verSR">No hay tactos para este dispositivo</div>
            <div class="tablaItems_b">
                <button class="boton_40 regreso6" [@.disabled]="!animando" @esquema_del (@esquema_del.start)="mostrar(0)" (@esquema_del.done)="mostrar(1)"  *ngFor="let historia of historias; let i = index" (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{ botHover: arreHover[i] }">
                    <div class="tablaDet_40">
                        <div class="columnas">
                        
                        <div class="columnas">
                            <mat-icon class="iconPB_70" [svgIcon]="historia.icono" ></mat-icon>

                            <div class="filas_40" [style.marginLeft.px]="10">
                                <div class="textoMed_40">Tacto</div>
                                <div class="textoMed_40">Inicia </div>
                                <div class="textoMed_40">Termina</div>
                            </div>
                        </div>

                        <div class="columnas" [style.marginLeft.px]="5" [style.width.px]="400">
                            <div class="filas_40">
                                 <div class="textoMedN_40">{{ historia.viaje + ' / Tiempo estimado: ' }}<span class="textoMed_40_b" [style.marginLeft.px]="5">{{ historia.estimado }}</span></div>
                                <div class="textoMed_40" >{{ historia.dOrigen}}<span class="textoMedN_40" [style.marginLeft.px]="5">{{ ' / ' + (historia.inicio | date:'dd-MMM HH:mm') }}</span></div>
                                <div class="textoMed_40">{{ historia.dDestino}}<span class="textoMedN_40" [style.marginLeft.px]="5">{{ ' / ' + (historia.fin ? (historia.fin | date:'dd-MMM HH:mm') : 'En curso') }}</span></div>
                            </div>
                        </div>
                        </div>
                        <div class="columnas" [style.marginLeft.px]="5"  [style.width.px]="200">
                            <div class="filas_40" [style.alignItems]="'center'">
                                <div class="textoMed_Grande">{{ historia.idest==0 ? 'EN TRANSITO' : 'COMPLETO' }}</div>
                                <div class="horaGrande" [ngClass]="{ horaGrande_activa: historia.idest==0, horaGrande: historia.idest!=0, horaGrande_i: historia.alarmado=='S' }"><mat-icon class="iconPB_f" svgIcon="i_alertas" *ngIf="historia.alarmado=='S'"></mat-icon>{{ historia.idest==0 ? arreTiempos2[i] : historia.tiempo }}</div>
                            </div>
                        </div>

                        <div class="columnas" [style.marginLeft.px]="5" [style.width.px]="200">
                            <div class="filas_40" [style.alignItems]="'center'">
                                <div class="textoMed_Grande">{{ historia.idest==1 ? 'DESCARGANDO' : historia.idest>1 ? 'DESCARGADO' : 'PENDIENTE' }}</div>
                                <div class="horaGrande" [ngClass]="{ horaGrande_activa: historia.idest==1, horaGrande: historia.idest!=1, horaGrande_i: historia.des_alarmado=='S' }"><mat-icon class="iconPB_f" svgIcon="i_alertas" *ngIf="historia.des_alarmado=='S'"></mat-icon>{{ historia.idest==0 ? '---' : historia.idest==1 ? arreTiempos3[i] : historia.des_tiempo }}</div>
                            </div>
                        </div>

                        <div class="columnas" [style.marginLeft.px]="5" [style.marginRight.px]="52">
                            <div class="filas_40" [style.alignItems]="'center'">
                                <div class="textoMed_Grande">ESTATUS</div>
                                <div class="horaGrande2" [ngClass]="{ horaGrande2_i: historia.idest==9 }">{{ historia.estatus }}</div>
                            </div>
                        </div>
                    </div> 
                </button>   
            </div>                
        </div>

        <div class="tabla" [@.disabled]="!animando" @esquema (@esquema.done)="salidaEfecto($event)" *ngIf="modelo==5 && movil">
            <div class="ayudaCampo" *ngIf="historias.length==0 && verSR">No hay tactos para este dispositivo</div>
            <div class="tablaItems_b">
                <button class="boton_20 regreso6" [@.disabled]="!animando" @esquema_del (@esquema_del.start)="mostrar(0)" (@esquema_del.done)="mostrar(1)"  *ngFor="let historia of historias; let i = index" (mouseover)="arreHover[i]=true;" (mouseout)="arreHover[i]=false;" [ngClass]="{ botHover: arreHover[i] }">
                    <div class="tablaDet_20">
                        <div class="columnas">
                            <mat-icon class="iconPB_40" [svgIcon]="historia.icono" [style.width.px]="60"></mat-icon>

                            <div class="filas">
                                 <div class="textoMed">Tacto: <span class="textoMedN">{{ ' ' + historia.viaje + ' /Estimado: ' + historia.estimado }}</span></div>
                                <div class="textoMed">Destino: <span class="textoMedN">{{ ' ' + historia.dDestino  }}</span></div>
                                <div class="textoMed">Hora de inicio / Fin: <span class="textoMedN">{{ ' ' + (historia.inicio | date:'dd-MMM HH:mm') + ' / ' + ( historia.fin ? (historia.fin | date:'dd-MMM HH:mm') : 'PEND') }}</span></div>
                            </div>
                        </div>
                        <div class="miTiempo" [ngClass]="{ miTiempo_i: historia.idest<=1, miTiempo_i2: historia.alarmado=='S' || historia.des_alarmado=='S' }">{{ (historia.idest==0 ? arreTiempos2[i] : historia.idest==1 ? arreTiempos3[i] : historia.tiempo) }}</div>
                        <div class="miEstatus" [ngClass]="{ col03_viajes: historia.idest != 9, miEstatus_i: historia.idest == 9 }">{{ historia.estatus }}</div>
                    </div> 
                </button>   
            </div>   
        </div>
    </div>
    <div class="subir" *ngIf="verIrArriba" @arriba>
        <button class="subirBoton" mat-flat-button (click)="irArriba()" [matTooltip]="irArribaTT" matTooltipClass = "toolTip2">
            <mat-icon class="subirIcono">keyboard_arrow_up</mat-icon>
        </button>
    </div>
</div>
